# â˜ï¸ AWS EC2 Jenkins + Deploy ì„œë²„ êµ¬ì¶• ì™„ì „ ê°€ì´ë“œ (ì´ˆë³´ììš©)

> **ëª©ì **: ê¸°ì¡´ AWS ì„œë¹„ìŠ¤(S3, OpenSearch, Bedrock ë“±)ê°€ ì„¤ì •ëœ ìƒíƒœì—ì„œ EC2 ì¸ìŠ¤í„´ìŠ¤ 2ê°œë¥¼ ìƒì„±í•˜ì—¬ Jenkins CI/CD ì„œë²„ì™€ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬ ì„œë²„ë¥¼ êµ¬ì¶•í•©ë‹ˆë‹¤.
>
> **ğŸ’¡ ì´ ê°€ì´ë“œëŠ” AWSë¥¼ ì²˜ìŒ ì‚¬ìš©í•˜ëŠ” ì´ˆë³´ìë„ ë”°ë¼í•  ìˆ˜ ìˆë„ë¡ ëª¨ë“  ë‹¨ê³„ë¥¼ ìŠ¤í¬ë¦°ìƒ·ê³¼ í•¨ê»˜ ìƒì„¸íˆ ì„¤ëª…í•©ë‹ˆë‹¤.**

---

## ğŸ—ï¸ ì „ì²´ ì•„í‚¤í…ì²˜ ì´í•´í•˜ê¸°

```
ğŸ  ê°œë°œì PC (Windows)
    â†“ (ì½”ë“œ ì‘ì„± í›„ git push)
ğŸ“± GitHub Repository (ì†ŒìŠ¤ì½”ë“œ ì €ì¥ì†Œ)
    â†“ (Webhookìœ¼ë¡œ ìë™ ì•Œë¦¼)
ğŸ“¦ Jenkins Server (EC2-1) 
    â”œâ”€ GitHubì—ì„œ ì½”ë“œ ë‹¤ìš´ë¡œë“œ
    â”œâ”€ Docker ì´ë¯¸ì§€ ë¹Œë“œ
    â”œâ”€ Docker Hubì— ì´ë¯¸ì§€ ì—…ë¡œë“œ
    â””â”€ Deploy ì„œë²„ì— ë°°í¬ ëª…ë ¹ ì „ì†¡
         â†“ (SSH ì ‘ì†)
ğŸš€ Deploy Server (EC2-2)
    â”œâ”€ Docker Hubì—ì„œ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ
    â”œâ”€ ì»¨í…Œì´ë„ˆ ì‹¤í–‰ (Base Web Server:8000, Model Server:8001)
    â””â”€ ì‚¬ìš©ìì—ê²Œ ì„œë¹„ìŠ¤ ì œê³µ
         â†“
ğŸ‘¥ ì‹¤ì œ ì‚¬ìš©ìë“¤ (ì›¹ ë¸Œë¼ìš°ì €ë¡œ ì ‘ì†)
```

**ì´ë¯¸ ì„¤ì •ëœ AWS ì„œë¹„ìŠ¤ë“¤**:
- âœ… **S3**: íŒŒì¼ ì €ì¥ì†Œ (ë¡œê·¸, ë°±ì—…ìš©)
- âœ… **OpenSearch**: ê²€ìƒ‰ ì—”ì§„ ì„œë¹„ìŠ¤
- âœ… **Bedrock**: AI ëª¨ë¸ ì„œë¹„ìŠ¤  
- âœ… **SES/SNS**: ì´ë©”ì¼/SMS ì•Œë¦¼ ì„œë¹„ìŠ¤
- âœ… **IAM**: ê¶Œí•œ ê´€ë¦¬ (ê¸°ì¡´ ì„¤ì • í™œìš©)

---

## ğŸ“‹ í•„ìš”í•œ EC2 ì¸ìŠ¤í„´ìŠ¤ ê³„íš

| ì„œë²„ ì´ë¦„ | ì—­í•  | ì»´í“¨í„° ì‚¬ì–‘ | ì›” ì˜ˆìƒ ë¹„ìš© | ì—´ì–´ì•¼ í•  í¬íŠ¸ |
|----------|------|-------------|-------------|---------------|
| **Jenkins Server** | ì½”ë“œ ë¹Œë“œ + ë°°í¬ ìë™í™” | t3.medium (CPU 2ê°œ, RAM 4GB) | ì•½ $30 | 22(SSH), 18080(Jenkins) |
| **Deploy Server** | ì‹¤ì œ ì•± ì„œë¹„ìŠ¤ ì œê³µ | t3.small (CPU 2ê°œ, RAM 2GB) | ì•½ $15 | 22(SSH), 80(ì›¹), 8000, 8001 |

**ğŸ’° ì´ ì˜ˆìƒ ë¹„ìš©**: ì›” ì•½ $45 (ê¸°ì¡´ AWS ì„œë¹„ìŠ¤ ë¹„ìš© ë³„ë„)

---

## ğŸ” Step 1: SSH ì ‘ì†ìš© í‚¤ í˜ì–´ ìƒì„± (5ë¶„)

> **ğŸ’¡ í‚¤ í˜ì–´ë€?**: EC2 ì„œë²„ì— SSHë¡œ ì•ˆì „í•˜ê²Œ ì ‘ì†í•˜ê¸° ìœ„í•œ ì•”í˜¸í™” í‚¤ì…ë‹ˆë‹¤. 
> ì—´ì‡ ì™€ ê°™ì€ ì—­í• ë¡œ, ì´ í‚¤ê°€ ì—†ìœ¼ë©´ ì„œë²„ì— ì ‘ì†í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

### 1ï¸âƒ£ AWS Management Console ì ‘ì†
```
1. ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ https://aws.amazon.com/console/ ì ‘ì†
2. ê¸°ì¡´ì— ìƒì„±í•œ IAM ì‚¬ìš©ìë¡œ ë¡œê·¸ì¸
   - ì‚¬ìš©ìëª…: skn12-finance-master
   - íŒ¨ìŠ¤ì›Œë“œ: [ì„¤ì •í•œ íŒ¨ìŠ¤ì›Œë“œ]
3. ìš°ì¸¡ ìƒë‹¨ì—ì„œ ë¦¬ì „ì´ "ì•„ì‹œì•„ íƒœí‰ì–‘(ì„œìš¸) ap-northeast-2"ì¸ì§€ í™•ì¸
```

### 2ï¸âƒ£ EC2 ì„œë¹„ìŠ¤ë¡œ ì´ë™
```
1. AWS Console ìƒë‹¨ ê²€ìƒ‰ì°½ì— "EC2" ì…ë ¥
2. "EC2" ì„œë¹„ìŠ¤ í´ë¦­
3. EC2 Dashboardê°€ ì—´ë¦¬ë©´ ì„±ê³µ
```

### 3ï¸âƒ£ í‚¤ í˜ì–´ ìƒì„±í•˜ê¸°
```
1. EC2 Dashboard ì™¼ìª½ ë©”ë‰´ì—ì„œ "ë„¤íŠ¸ì›Œí¬ ë° ë³´ì•ˆ" í´ë¦­
2. "í‚¤ í˜ì–´" í´ë¦­
3. ìš°ì¸¡ ìƒë‹¨ "í‚¤ í˜ì–´ ìƒì„±" ë²„íŠ¼ í´ë¦­
4. í‚¤ í˜ì–´ ìƒì„± ì„¤ì •:
   - ì´ë¦„: skn12-trading-keypair
   - í‚¤ í˜ì–´ ìœ í˜•: RSA (ê¸°ë³¸ê°’ ìœ ì§€)
   - í”„ë¼ì´ë¹— í‚¤ íŒŒì¼ í˜•ì‹: .pem (Linux/macOS/Windowsìš©)
5. "í‚¤ í˜ì–´ ìƒì„±" ë²„íŠ¼ í´ë¦­
6. ìë™ìœ¼ë¡œ .pem íŒŒì¼ì´ ë‹¤ìš´ë¡œë“œë¨ (ì ˆëŒ€ ìƒì–´ë²„ë¦¬ë©´ ì•ˆ ë¨!)
```

### 4ï¸âƒ£ ë‹¤ìš´ë¡œë“œëœ í‚¤ íŒŒì¼ ë³´ì•ˆ ì„¤ì • (ì¤‘ìš”!)
```bash
# 1. ë‹¤ìš´ë¡œë“œëœ í‚¤ íŒŒì¼ì„ ì•ˆì „í•œ ìœ„ì¹˜ë¡œ ì´ë™
# Windows íƒìƒ‰ê¸°ì—ì„œ ë‹¤ìŒ í´ë” ìƒì„±
mkdir C:\aws-keys

# 2. Downloads í´ë”ì—ì„œ í‚¤ íŒŒì¼ì„ C:\aws-keys\ë¡œ ì´ë™
# skn12-trading-keypair.pem íŒŒì¼ì„ ì˜ë¼ë‚´ê¸° â†’ ë¶™ì—¬ë„£ê¸°

# 3. íŒŒì¼ ë³´ì•ˆ ì„¤ì • (ë§¤ìš° ì¤‘ìš”!)
# C:\aws-keys\skn12-trading-keypair.pem íŒŒì¼ ìš°í´ë¦­
# â†’ "ì†ì„±" í´ë¦­
# â†’ "ë³´ì•ˆ" íƒ­ í´ë¦­  
# â†’ "ê³ ê¸‰" ë²„íŠ¼ í´ë¦­
# â†’ "ìƒì† ì‚¬ìš© ì•ˆí•¨" í´ë¦­
# â†’ "ì´ ê°œì²´ì—ì„œ ìƒì†ëœ ì‚¬ìš© ê¶Œí•œì„ ëª¨ë‘ ì œê±°í•©ë‹ˆë‹¤" ì„ íƒ
# â†’ "ì¶”ê°€" ë²„íŠ¼ í´ë¦­
# â†’ "ë³´ì•ˆ ì£¼ì²´ ì„ íƒ" í´ë¦­
# â†’ "ê³ ê¸‰" â†’ "ì§€ê¸ˆ ì°¾ê¸°" â†’ í˜„ì¬ ì‚¬ìš©ì ê³„ì • ì„ íƒ
# â†’ "ëª¨ë“  ê¶Œí•œ" ì²´í¬ë°•ìŠ¤ ì„ íƒ
# â†’ "í™•ì¸" â†’ "í™•ì¸" â†’ "í™•ì¸"
```

**ğŸš¨ ì¤‘ìš”**: ì´ í‚¤ íŒŒì¼ì„ ìƒì–´ë²„ë¦¬ë©´ ì„œë²„ì— ì ‘ì†í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤! ë°˜ë“œì‹œ ì•ˆì „í•œ ê³³ì— ë°±ì—…í•˜ì„¸ìš”.

---

## ğŸ›¡ï¸ Step 2: ë³´ì•ˆ ê·¸ë£¹ ìƒì„± (ë°©í™”ë²½ ê·œì¹™ ì„¤ì •) (10ë¶„)

> **ğŸ’¡ ë³´ì•ˆ ê·¸ë£¹ì´ë€?**: AWSì˜ ê°€ìƒ ë°©í™”ë²½ì…ë‹ˆë‹¤. ì–´ë–¤ í¬íŠ¸ë¥¼ ì—´ê³  ë‹«ì„ì§€, ì–´ë””ì„œ ì ‘ì†ì„ í—ˆìš©í• ì§€ ì„¤ì •í•©ë‹ˆë‹¤.

### 1ï¸âƒ£ Jenkins Serverìš© ë³´ì•ˆ ê·¸ë£¹ ìƒì„±

#### A. ë³´ì•ˆ ê·¸ë£¹ ìƒì„± ì‹œì‘
```
1. EC2 Dashboard â†’ ì™¼ìª½ ë©”ë‰´ "ë„¤íŠ¸ì›Œí¬ ë° ë³´ì•ˆ" â†’ "ë³´ì•ˆ ê·¸ë£¹" í´ë¦­
2. ìš°ì¸¡ ìƒë‹¨ "ë³´ì•ˆ ê·¸ë£¹ ìƒì„±" ë²„íŠ¼ í´ë¦­
```

#### B. ê¸°ë³¸ ì •ë³´ ì…ë ¥
```
ë³´ì•ˆ ê·¸ë£¹ ì´ë¦„: skn12-jenkins-sg
ì„¤ëª…: SKN12 Jenkins CI/CD Server Security Group
VPC: vpc-xxxxxxxx (ê¸°ë³¸ê°’ ìœ ì§€ - ê¸°ë³¸ VPC)
```

#### C. ì¸ë°”ìš´ë“œ ê·œì¹™ ì„¤ì • (ë“¤ì–´ì˜¤ëŠ” íŠ¸ë˜í”½ í—ˆìš©)
```
"ì¸ë°”ìš´ë“œ ê·œì¹™" íƒ­ì—ì„œ "ê·œì¹™ ì¶”ê°€" ë²„íŠ¼ì„ 3ë²ˆ í´ë¦­í•˜ì—¬ ë‹¤ìŒ ê·œì¹™ë“¤ ì¶”ê°€:

ê·œì¹™ 1 - SSH ì ‘ì† (ê´€ë¦¬ììš©):
- ìœ í˜•: SSH (ìë™ìœ¼ë¡œ TCP í”„ë¡œí† ì½œ, í¬íŠ¸ 22 ì„¤ì •ë¨)
- ì†ŒìŠ¤: ë‚´ IP (ìë™ìœ¼ë¡œ í˜„ì¬ ì ‘ì† IPê°€ ì„¤ì •ë¨, ì˜ˆ: 123.456.789.012/32)
- ì„¤ëª…: SSH access for administrators

ê·œì¹™ 2 - Jenkins ì›¹ UI:
- ìœ í˜•: ì‚¬ìš©ì ì§€ì • TCP
- í¬íŠ¸ ë²”ìœ„: 18080
- ì†ŒìŠ¤: 0.0.0.0/0 (ëª¨ë“  IPì—ì„œ ì ‘ì† í—ˆìš©)
- ì„¤ëª…: Jenkins web interface

ê·œì¹™ 3 - HTTPS (í–¥í›„ SSL ì ìš©ìš©):
- ìœ í˜•: HTTPS (ìë™ìœ¼ë¡œ TCP í”„ë¡œí† ì½œ, í¬íŠ¸ 443 ì„¤ì •ë¨)
- ì†ŒìŠ¤: 0.0.0.0/0
- ì„¤ëª…: HTTPS for future SSL setup
```

#### D. ì•„ì›ƒë°”ìš´ë“œ ê·œì¹™ (ë‚˜ê°€ëŠ” íŠ¸ë˜í”½)
```
ê¸°ë³¸ê°’ ìœ ì§€ (ëª¨ë“  íŠ¸ë˜í”½ í—ˆìš©)
- ì´ë¯¸ ì„¤ì •ëœ "ëª¨ë“  íŠ¸ë˜í”½" ê·œì¹™ì„ ê·¸ëŒ€ë¡œ ë‘ì„¸ìš”
```

#### E. ë³´ì•ˆ ê·¸ë£¹ ìƒì„± ì™„ë£Œ
```
"ë³´ì•ˆ ê·¸ë£¹ ìƒì„±" ë²„íŠ¼ í´ë¦­
â†’ "ë³´ì•ˆ ê·¸ë£¹ skn12-jenkins-sgì´(ê°€) ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤" ë©”ì‹œì§€ í™•ì¸
```

### 2ï¸âƒ£ Deploy Serverìš© ë³´ì•ˆ ê·¸ë£¹ ìƒì„±

#### A. ë‘ ë²ˆì§¸ ë³´ì•ˆ ê·¸ë£¹ ìƒì„± ì‹œì‘
```
ë‹¤ì‹œ "ë³´ì•ˆ ê·¸ë£¹ ìƒì„±" ë²„íŠ¼ í´ë¦­
```

#### B. ê¸°ë³¸ ì •ë³´ ì…ë ¥
```
ë³´ì•ˆ ê·¸ë£¹ ì´ë¦„: skn12-deploy-sg
ì„¤ëª…: SKN12 Application Deploy Server Security Group  
VPC: vpc-xxxxxxxx (ê¸°ë³¸ê°’ ìœ ì§€)
```

#### C. ì¸ë°”ìš´ë“œ ê·œì¹™ ì„¤ì • (ì´ 5ê°œ ê·œì¹™)
```
"ê·œì¹™ ì¶”ê°€" ë²„íŠ¼ì„ 5ë²ˆ í´ë¦­í•˜ì—¬ ë‹¤ìŒ ê·œì¹™ë“¤ ì¶”ê°€:

ê·œì¹™ 1 - Jenkinsì—ì„œ SSH ì ‘ì†:
- ìœ í˜•: SSH
- ì†ŒìŠ¤: ì‚¬ìš©ì ì§€ì • â†’ skn12-jenkins-sg ì„ íƒ (ë³´ì•ˆ ê·¸ë£¹ ì´ë¦„ìœ¼ë¡œ ê²€ìƒ‰)
- ì„¤ëª…: SSH access from Jenkins server

ê·œì¹™ 2 - ê´€ë¦¬ì SSH ì ‘ì†:
- ìœ í˜•: SSH  
- ì†ŒìŠ¤: ë‚´ IP (ìë™ ì„¤ì •)
- ì„¤ëª…: SSH access for administrators

ê·œì¹™ 3 - ì›¹ ì„œë¹„ìŠ¤ (Nginx):
- ìœ í˜•: HTTP (í¬íŠ¸ 80)
- ì†ŒìŠ¤: 0.0.0.0/0
- ì„¤ëª…: Web service via Nginx proxy

ê·œì¹™ 4 - Base Web Server:
- ìœ í˜•: ì‚¬ìš©ì ì§€ì • TCP
- í¬íŠ¸ ë²”ìœ„: 8000
- ì†ŒìŠ¤: 0.0.0.0/0  
- ì„¤ëª…: Base Web Server direct access

ê·œì¹™ 5 - Model Server:
- ìœ í˜•: ì‚¬ìš©ì ì§€ì • TCP
- í¬íŠ¸ ë²”ìœ„: 8001
- ì†ŒìŠ¤: 0.0.0.0/0
- ì„¤ëª…: Model Server direct access
```

#### D. Deploy ë³´ì•ˆ ê·¸ë£¹ ìƒì„± ì™„ë£Œ
```
"ë³´ì•ˆ ê·¸ë£¹ ìƒì„±" ë²„íŠ¼ í´ë¦­
```

---

## ğŸ–¥ï¸ Step 3: Jenkins Server EC2 ì¸ìŠ¤í„´ìŠ¤ ìƒì„± (15ë¶„)

> **ğŸ’¡ EC2 ì¸ìŠ¤í„´ìŠ¤ë€?**: AWSì˜ ê°€ìƒ ì„œë²„ì…ë‹ˆë‹¤. ì‹¤ì œ ì»´í“¨í„°ë¥¼ í´ë¼ìš°ë“œì—ì„œ ë¹Œë ¤ì“°ëŠ” ê²ƒê³¼ ê°™ìŠµë‹ˆë‹¤.

### 3ï¸âƒ£ ì¸ìŠ¤í„´ìŠ¤ ì‹œì‘í•˜ê¸°

#### A. ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ì‹œì‘
```
1. EC2 Dashboard ë©”ì¸ í™”ë©´ì—ì„œ "ì¸ìŠ¤í„´ìŠ¤ ì‹œì‘" ë²„íŠ¼ í´ë¦­
2. ë˜ëŠ” ì™¼ìª½ ë©”ë‰´ "ì¸ìŠ¤í„´ìŠ¤" â†’ "ì¸ìŠ¤í„´ìŠ¤" â†’ "ì¸ìŠ¤í„´ìŠ¤ ì‹œì‘"
```

#### B. ì´ë¦„ê³¼ íƒœê·¸ ì„¤ì •
```
ì´ë¦„: skn12-jenkins-server

ì¶”ê°€ íƒœê·¸ (ì„ íƒì‚¬í•­, í•˜ì§€ë§Œ ê¶Œì¥):
í‚¤: Project, ê°’: SKN12-FINAL-2TEAM
í‚¤: Environment, ê°’: Production
í‚¤: Role, ê°’: Jenkins-CI-CD
```

#### C. ìš´ì˜ì²´ì œ(AMI) ì„ íƒ
```
"Amazon Machine Image (AMI)" ì„¹ì…˜ì—ì„œ:

1. "ë¹ ë¥¸ ì‹œì‘" íƒ­ ì„ íƒ (ê¸°ë³¸ê°’)
2. "Ubuntu" í´ë¦­
3. "Ubuntu Server 22.04 LTS (HVM), SSD Volume Type" ì„ íƒ
   - 64ë¹„íŠ¸ (x86) ì•„í‚¤í…ì²˜ í™•ì¸
   - "í”„ë¦¬ í‹°ì–´ ì‚¬ìš© ê°€ëŠ¥" ë¼ë²¨ í™•ì¸
4. AMI ID: ami-xxxxxxxx (ìë™ ì„¤ì •, ë³€ê²½ ì•ˆ í•¨)
```

**ğŸ’¡ Ubuntuë¥¼ ì„ íƒí•˜ëŠ” ì´ìœ **:
- ë¬´ë£Œ í‹°ì–´ ì§€ì›
- Docker ì„¤ì¹˜ê°€ ì‰¬ì›€  
- ì»¤ë®¤ë‹ˆí‹° ì§€ì›ì´ í’ë¶€í•¨
- ì•ˆì •ì ì¸ LTS(ì¥ê¸°ì§€ì›) ë²„ì „

#### D. ì¸ìŠ¤í„´ìŠ¤ ìœ í˜• ì„ íƒ
```
"ì¸ìŠ¤í„´ìŠ¤ ìœ í˜•" ì„¹ì…˜ì—ì„œ:

1. ì¸ìŠ¤í„´ìŠ¤ ìœ í˜•: t3.medium ì„ íƒ
   - vCPU: 2ê°œ
   - ë©”ëª¨ë¦¬: 4.0 GiB
   - ë„¤íŠ¸ì›Œí¬ ì„±ëŠ¥: ìµœëŒ€ 5 Gigabit

2. ë¬´ë£Œ í‹°ì–´ ê²½ê³  ë©”ì‹œì§€ ë¬´ì‹œ (JenkinsëŠ” ìµœì†Œ 4GB RAM í•„ìš”)
```

**ğŸ’¡ t3.mediumì„ ì„ íƒí•˜ëŠ” ì´ìœ **:
- Jenkins + Docker ë¹Œë“œì— ìµœì†Œ 4GB RAM í•„ìš”
- CPU 2ê°œë¡œ ë³‘ë ¬ ë¹Œë“œ ê°€ëŠ¥
- ì›” $30 ì •ë„ì˜ í•©ë¦¬ì ì¸ ë¹„ìš©

#### E. í‚¤ í˜ì–´ ì„¤ì •
```
"í‚¤ í˜ì–´(ë¡œê·¸ì¸)" ì„¹ì…˜ì—ì„œ:

1. "ê¸°ì¡´ í‚¤ í˜ì–´ ì„ íƒ" ì„ íƒ
2. í‚¤ í˜ì–´ ì´ë¦„: skn12-trading-keypair (ì•ì„œ ìƒì„±í•œ í‚¤)
3. ì²´í¬ë°•ìŠ¤ í™•ì¸: "ì„ íƒí•œ í”„ë¼ì´ë¹— í‚¤ íŒŒì¼(.pem)ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆìŒì„ í™•ì¸í•©ë‹ˆë‹¤..."
```

#### F. ë„¤íŠ¸ì›Œí¬ ì„¤ì •
```
"ë„¤íŠ¸ì›Œí¬ ì„¤ì •" ì„¹ì…˜ì—ì„œ "í¸ì§‘" ë²„íŠ¼ í´ë¦­:

VPC: vpc-xxxxxxxx (ê¸°ë³¸ VPC ìœ ì§€)
ì„œë¸Œë„·: subnet-xxxxxxxx (ê¸°ë³¸ ì„œë¸Œë„· ìœ ì§€, ê°€ìš© ì˜ì—­ ë¬´ê´€)
í¼ë¸”ë¦­ IP ìë™ í• ë‹¹: í™œì„±í™” (Enable) âœ…
ë°©í™”ë²½(ë³´ì•ˆ ê·¸ë£¹): ê¸°ì¡´ ë³´ì•ˆ ê·¸ë£¹ ì„ íƒ
   â†’ "ê¸°ì¡´ ë³´ì•ˆ ê·¸ë£¹ ì„ íƒ" ë¼ë””ì˜¤ ë²„íŠ¼ ì„ íƒ
   â†’ ì¼ë°˜ ë³´ì•ˆ ê·¸ë£¹: skn12-jenkins-sg ì²´í¬ë°•ìŠ¤ ì„ íƒ
```

#### G. ìŠ¤í† ë¦¬ì§€ êµ¬ì„±
```
"ìŠ¤í† ë¦¬ì§€ êµ¬ì„±" ì„¹ì…˜:

1. ë³¼ë¥¨ 1(ë£¨íŠ¸) ì„¤ì •:
   - í¬ê¸°: 30 GiBë¡œ ë³€ê²½ (ê¸°ë³¸ 8GBì—ì„œ ì¦ê°€)
   - ë³¼ë¥¨ ìœ í˜•: gp3 (ë²”ìš© SSD) ìœ ì§€
   - IOPS: 3000 (ê¸°ë³¸ê°’ ìœ ì§€)
   - ì²˜ë¦¬ëŸ‰: 125 MB/s (ê¸°ë³¸ê°’ ìœ ì§€)
   - ì¢…ë£Œ ì‹œ ì‚­ì œ: ì²´í¬ ìœ ì§€ (ì¸ìŠ¤í„´ìŠ¤ ì‚­ì œ ì‹œ ì €ì¥ì†Œë„ í•¨ê»˜ ì‚­ì œ)

2. "ë³¼ë¥¨ ì¶”ê°€" ë²„íŠ¼ì€ í´ë¦­í•˜ì§€ ì•ŠìŒ (ë£¨íŠ¸ ë³¼ë¥¨ë§Œ ì‚¬ìš©)
```

**ğŸ’¡ 30GBë¥¼ ì„ íƒí•˜ëŠ” ì´ìœ **:
- Ubuntu OS: ~5GB
- Jenkins í™ˆ ë””ë ‰í† ë¦¬: ~10GB
- Docker ì´ë¯¸ì§€ ìºì‹œ: ~15GB

#### H. ê³ ê¸‰ ì„¸ë¶€ ì •ë³´ (ìë™ ì„¤ì • ìŠ¤í¬ë¦½íŠ¸)
```
"ê³ ê¸‰ ì„¸ë¶€ ì •ë³´" ì„¹ì…˜ í™•ì¥ (ë§¨ ì•„ë˜):

1. "ì¢…ë£Œ ë³´í˜¸ í™œì„±í™”" ì²´í¬ (ì‹¤ìˆ˜ë¡œ ì¸ìŠ¤í„´ìŠ¤ ì‚­ì œ ë°©ì§€)
2. "ìƒì„¸ CloudWatch ëª¨ë‹ˆí„°ë§ í™œì„±í™”" ì²´í¬ (ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§)
3. "ì‚¬ìš©ì ë°ì´í„°" í…ìŠ¤íŠ¸ ë°•ìŠ¤ì— ë‹¤ìŒ ìŠ¤í¬ë¦½íŠ¸ ì…ë ¥:
```

```bash
#!/bin/bash
# =============================================================================
# Jenkins Server ìë™ ì„¤ì • ìŠ¤í¬ë¦½íŠ¸
# =============================================================================
# ì´ ìŠ¤í¬ë¦½íŠ¸ëŠ” EC2 ì¸ìŠ¤í„´ìŠ¤ê°€ ì²˜ìŒ ì‹œì‘ë  ë•Œ ìë™ìœ¼ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤.
# Docker, ê¸°ë³¸ íŒ¨í‚¤ì§€, ì‹œê°„ëŒ€ ì„¤ì • ë“±ì„ ìë™ìœ¼ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤.

echo "ğŸš€ Jenkins Server ì´ˆê¸° ì„¤ì • ì‹œì‘: $(date)" > /var/log/user-data.log

# -----------------------------------------------------------------------------
# 1. ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸ (ë³´ì•ˆ íŒ¨ì¹˜ í¬í•¨)
# -----------------------------------------------------------------------------
echo "ğŸ“¦ ì‹œìŠ¤í…œ íŒ¨í‚¤ì§€ ì—…ë°ì´íŠ¸ ì¤‘..." >> /var/log/user-data.log
apt-get update -y
apt-get upgrade -y

# -----------------------------------------------------------------------------  
# 2. Docker ì„¤ì¹˜ (ê³µì‹ ì €ì¥ì†Œ ì‚¬ìš©)
# -----------------------------------------------------------------------------
echo "ğŸ³ Docker ì„¤ì¹˜ ì¤‘..." >> /var/log/user-data.log

# Docker ê³µì‹ GPG í‚¤ ì¶”ê°€
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg

# Docker ì €ì¥ì†Œ ì¶”ê°€
echo "deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

# íŒ¨í‚¤ì§€ ëª©ë¡ ì—…ë°ì´íŠ¸ í›„ Docker ì„¤ì¹˜
apt-get update -y
apt-get install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin

# Docker ì„œë¹„ìŠ¤ ì‹œì‘ ë° ë¶€íŒ… ì‹œ ìë™ ì‹œì‘ ì„¤ì •
systemctl start docker
systemctl enable docker

# ubuntu ì‚¬ìš©ìë¥¼ docker ê·¸ë£¹ì— ì¶”ê°€ (sudo ì—†ì´ docker ëª…ë ¹ì–´ ì‚¬ìš© ê°€ëŠ¥)
usermod -aG docker ubuntu

# -----------------------------------------------------------------------------
# 3. ê¸°ë³¸ ê°œë°œ ë„êµ¬ ì„¤ì¹˜
# -----------------------------------------------------------------------------
echo "ğŸ› ï¸ ê¸°ë³¸ ë„êµ¬ ì„¤ì¹˜ ì¤‘..." >> /var/log/user-data.log
apt-get install -y \
    git \
    curl \
    wget \
    unzip \
    htop \
    tree \
    vim \
    net-tools \
    jq

# -----------------------------------------------------------------------------
# 4. ì‹œê°„ëŒ€ ì„¤ì • (í•œêµ­ ì‹œê°„)
# -----------------------------------------------------------------------------
echo "ğŸ• ì‹œê°„ëŒ€ ì„¤ì • ì¤‘..." >> /var/log/user-data.log
timedatectl set-timezone Asia/Seoul

# -----------------------------------------------------------------------------
# 5. Jenkins ë°ì´í„° ë””ë ‰í† ë¦¬ ì¤€ë¹„
# -----------------------------------------------------------------------------
echo "ğŸ“ ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„± ì¤‘..." >> /var/log/user-data.log
mkdir -p /opt/jenkins/{data,configs,scripts}
chown -R ubuntu:ubuntu /opt/jenkins

# -----------------------------------------------------------------------------
# 6. Git ì „ì—­ ì„¤ì • (Jenkinsìš©)
# -----------------------------------------------------------------------------
echo "ğŸ”§ Git ì„¤ì • ì¤‘..." >> /var/log/user-data.log
sudo -u ubuntu git config --global user.name "Jenkins CI"
sudo -u ubuntu git config --global user.email "jenkins@skn12-trading.com"
sudo -u ubuntu git config --global init.defaultBranch main

# -----------------------------------------------------------------------------
# 7. ì™„ë£Œ ì‹ í˜¸ íŒŒì¼ ìƒì„±
# -----------------------------------------------------------------------------
echo "âœ… Jenkins Server ì´ˆê¸° ì„¤ì • ì™„ë£Œ: $(date)" >> /var/log/user-data.log
echo "Jenkins Server ì´ˆê¸° ì„¤ì • ì™„ë£Œ: $(date)" > /home/ubuntu/setup-complete.log
chown ubuntu:ubuntu /home/ubuntu/setup-complete.log

echo "ğŸ‰ ëª¨ë“  ì„¤ì •ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!" >> /var/log/user-data.log
```

#### I. ìš”ì•½ ë° ì¸ìŠ¤í„´ìŠ¤ ì‹œì‘
```
1. "ìš”ì•½" ì„¹ì…˜ì—ì„œ ì„¤ì • ë‚´ìš© ìµœì¢… í™•ì¸:
   - ì´ë¦„: skn12-jenkins-server
   - AMI: Ubuntu Server 22.04 LTS
   - ì¸ìŠ¤í„´ìŠ¤ ìœ í˜•: t3.medium
   - í‚¤ í˜ì–´: skn12-trading-keypair
   - ë³´ì•ˆ ê·¸ë£¹: skn12-jenkins-sg
   - ìŠ¤í† ë¦¬ì§€: 30 GiB gp3

2. "ì¸ìŠ¤í„´ìŠ¤ ì‹œì‘" ë²„íŠ¼ í´ë¦­

3. "ì¸ìŠ¤í„´ìŠ¤ ì‹œì‘ ì¤‘" í˜ì´ì§€ê°€ ë‚˜íƒ€ë‚˜ë©´ ì„±ê³µ
   - "ëª¨ë“  ì¸ìŠ¤í„´ìŠ¤ ë³´ê¸°" ë²„íŠ¼ í´ë¦­í•˜ì—¬ ì¸ìŠ¤í„´ìŠ¤ ëª©ë¡ìœ¼ë¡œ ì´ë™
```

---

## ğŸš€ Step 4: Deploy Server EC2 ì¸ìŠ¤í„´ìŠ¤ ìƒì„± (10ë¶„)

> **ğŸ’¡ ë‘ ë²ˆì§¸ ì„œë²„ ìƒì„±**: ì‹¤ì œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹¤í–‰ë  ì„œë²„ë¥¼ ë§Œë“­ë‹ˆë‹¤.

### 4ï¸âƒ£ Deploy Server ìƒì„±í•˜ê¸°

#### A. ë‘ ë²ˆì§¸ ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ì‹œì‘
```
1. ì¸ìŠ¤í„´ìŠ¤ ëª©ë¡ í™”ë©´ì—ì„œ ë‹¤ì‹œ "ì¸ìŠ¤í„´ìŠ¤ ì‹œì‘" ë²„íŠ¼ í´ë¦­
```

#### B. ì´ë¦„ê³¼ íƒœê·¸ ì„¤ì •
```
ì´ë¦„: skn12-deploy-server

ì¶”ê°€ íƒœê·¸:
í‚¤: Project, ê°’: SKN12-FINAL-2TEAM
í‚¤: Environment, ê°’: Production  
í‚¤: Role, ê°’: Application-Server
```

#### C. AMI ë° ì¸ìŠ¤í„´ìŠ¤ ìœ í˜• ì„ íƒ
```
AMI: Ubuntu Server 22.04 LTS (Jenkinsì™€ ë™ì¼)
ì¸ìŠ¤í„´ìŠ¤ ìœ í˜•: t3.small (Jenkinsë³´ë‹¤ ì‘ì€ ì‚¬ì–‘)
   - vCPU: 2ê°œ
   - ë©”ëª¨ë¦¬: 2.0 GiB
   - ì˜ˆìƒ ì›” ë¹„ìš©: ~$15
```

**ğŸ’¡ t3.smallì„ ì„ íƒí•˜ëŠ” ì´ìœ **:
- ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ì—ëŠ” 2GB RAMìœ¼ë¡œ ì¶©ë¶„
- Jenkinsì²˜ëŸ¼ ë¹Œë“œ ì‘ì—…ì„ í•˜ì§€ ì•Šì•„ì„œ ë” ì ì€ ìì› í•„ìš”
- ë¹„ìš© ì ˆì•½

#### D. í‚¤ í˜ì–´ ë° ë„¤íŠ¸ì›Œí¬ ì„¤ì •
```
í‚¤ í˜ì–´: skn12-trading-keypair (ê°™ì€ í‚¤ ì‚¬ìš©)

ë„¤íŠ¸ì›Œí¬ ì„¤ì • â†’ "í¸ì§‘":
- VPC: ê¸°ë³¸ VPC ìœ ì§€
- í¼ë¸”ë¦­ IP ìë™ í• ë‹¹: í™œì„±í™” âœ…
- ë°©í™”ë²½: ê¸°ì¡´ ë³´ì•ˆ ê·¸ë£¹ ì„ íƒ â†’ skn12-deploy-sg
```

#### E. ìŠ¤í† ë¦¬ì§€ ì„¤ì •
```
ë³¼ë¥¨ í¬ê¸°: 20 GiB (Jenkinsë³´ë‹¤ ì‘ê²Œ)
- Ubuntu OS: ~5GB
- ì• í”Œë¦¬ì¼€ì´ì…˜ + Docker ì´ë¯¸ì§€: ~10GB  
- ë¡œê·¸ ë° ë°ì´í„°: ~5GB

ë³¼ë¥¨ ìœ í˜•: gp3 ìœ ì§€
```

#### F. ì‚¬ìš©ì ë°ì´í„° ìŠ¤í¬ë¦½íŠ¸
```bash
#!/bin/bash
# =============================================================================
# Deploy Server ìë™ ì„¤ì • ìŠ¤í¬ë¦½íŠ¸
# =============================================================================
# ì‹¤ì œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹¤í–‰ë  ì„œë²„ì˜ ì´ˆê¸° ì„¤ì •ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤.

echo "ğŸš€ Deploy Server ì´ˆê¸° ì„¤ì • ì‹œì‘: $(date)" > /var/log/user-data.log

# -----------------------------------------------------------------------------
# 1. ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸
# -----------------------------------------------------------------------------
echo "ğŸ“¦ ì‹œìŠ¤í…œ íŒ¨í‚¤ì§€ ì—…ë°ì´íŠ¸ ì¤‘..." >> /var/log/user-data.log
apt-get update -y
apt-get upgrade -y

# -----------------------------------------------------------------------------
# 2. Docker ì„¤ì¹˜ (Jenkins Serverì™€ ë™ì¼í•œ ë°©ë²•)
# -----------------------------------------------------------------------------
echo "ğŸ³ Docker ì„¤ì¹˜ ì¤‘..." >> /var/log/user-data.log

# Docker ê³µì‹ GPG í‚¤ ë° ì €ì¥ì†Œ ì¶”ê°€
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg
echo "deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

# Docker ì„¤ì¹˜
apt-get update -y
apt-get install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin

# Docker ì„œë¹„ìŠ¤ ì„¤ì •
systemctl start docker
systemctl enable docker
usermod -aG docker ubuntu

# -----------------------------------------------------------------------------
# 3. Nginx ì„¤ì¹˜ (ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ë° ë¡œë“œë°¸ëŸ°ì„œìš©)
# -----------------------------------------------------------------------------
echo "ğŸŒ Nginx ì„¤ì¹˜ ì¤‘..." >> /var/log/user-data.log
apt-get install -y nginx

# Nginx ì„œë¹„ìŠ¤ ì‹œì‘ ë° ìë™ ì‹œì‘ ì„¤ì •
systemctl start nginx
systemctl enable nginx

# ê¸°ë³¸ Nginx ì„¤ì • ë°±ì—…
cp /etc/nginx/sites-available/default /etc/nginx/sites-available/default.backup

# -----------------------------------------------------------------------------
# 4. ê¸°ë³¸ ë„êµ¬ ì„¤ì¹˜
# -----------------------------------------------------------------------------
echo "ğŸ› ï¸ ê¸°ë³¸ ë„êµ¬ ì„¤ì¹˜ ì¤‘..." >> /var/log/user-data.log
apt-get install -y \
    git \
    curl \
    wget \
    unzip \
    htop \
    tree \
    vim \
    net-tools \
    jq \
    certbot \
    python3-certbot-nginx

# -----------------------------------------------------------------------------
# 5. ì• í”Œë¦¬ì¼€ì´ì…˜ ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„±
# -----------------------------------------------------------------------------
echo "ğŸ“ ì• í”Œë¦¬ì¼€ì´ì…˜ ë””ë ‰í† ë¦¬ ìƒì„± ì¤‘..." >> /var/log/user-data.log
mkdir -p /opt/skn12-trading/{configs,logs,backups,ssl}
mkdir -p /opt/skn12-trading/configs/{base-web-server,model-server}
mkdir -p /opt/skn12-trading/logs/{base-web-server,model-server,nginx}

# ì†Œìœ ê¶Œ ì„¤ì • (ubuntu ì‚¬ìš©ìê°€ ì ‘ê·¼ ê°€ëŠ¥í•˜ë„ë¡)
chown -R ubuntu:ubuntu /opt/skn12-trading

# ë¡œê·¸ ë””ë ‰í† ë¦¬ ê¶Œí•œ ì„¤ì • (ì›¹ ì„œë²„ê°€ ì“¸ ìˆ˜ ìˆë„ë¡)
chmod -R 755 /opt/skn12-trading/logs

# -----------------------------------------------------------------------------
# 6. ì‹œê°„ëŒ€ ì„¤ì •
# -----------------------------------------------------------------------------
echo "ğŸ• ì‹œê°„ëŒ€ ì„¤ì • ì¤‘..." >> /var/log/user-data.log
timedatectl set-timezone Asia/Seoul

# -----------------------------------------------------------------------------
# 7. ë°©í™”ë²½ ê¸°ë³¸ ì„¤ì • (UFW)
# -----------------------------------------------------------------------------
echo "ğŸ”¥ ë°©í™”ë²½ ê¸°ë³¸ ì„¤ì • ì¤‘..." >> /var/log/user-data.log
ufw --force enable
ufw allow ssh
ufw allow 'Nginx Full'
ufw allow 8000
ufw allow 8001

# -----------------------------------------------------------------------------
# 8. ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§ ë„êµ¬ ì„¤ì¹˜
# -----------------------------------------------------------------------------
echo "ğŸ“Š ëª¨ë‹ˆí„°ë§ ë„êµ¬ ì„¤ì¹˜ ì¤‘..." >> /var/log/user-data.log
apt-get install -y htop iotop iftop ncdu

# -----------------------------------------------------------------------------
# 9. ì™„ë£Œ ì‹ í˜¸
# -----------------------------------------------------------------------------
echo "âœ… Deploy Server ì´ˆê¸° ì„¤ì • ì™„ë£Œ: $(date)" >> /var/log/user-data.log
echo "Deploy Server ì´ˆê¸° ì„¤ì • ì™„ë£Œ: $(date)" > /home/ubuntu/setup-complete.log
chown ubuntu:ubuntu /home/ubuntu/setup-complete.log

# ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ ì²´í¬
df -h >> /home/ubuntu/setup-complete.log
echo "ğŸ‰ ëª¨ë“  ì„¤ì •ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!" >> /var/log/user-data.log
```

#### G. Deploy Server ì¸ìŠ¤í„´ìŠ¤ ì‹œì‘
```
"ì¸ìŠ¤í„´ìŠ¤ ì‹œì‘" ë²„íŠ¼ í´ë¦­
```

---

## ğŸŒ Step 5: Elastic IP í• ë‹¹ (ê³ ì • IP ì„¤ì •) (10ë¶„)

> **ğŸ’¡ Elastic IPë€?**: ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì¬ì‹œì‘í•´ë„ ë³€í•˜ì§€ ì•ŠëŠ” ê³ ì • IP ì£¼ì†Œì…ë‹ˆë‹¤. 
> ì›¹ì‚¬ì´íŠ¸ ë„ë©”ì¸ ì—°ê²°ì´ë‚˜ Jenkins Webhook URL ì„¤ì •ì— í•„ìš”í•©ë‹ˆë‹¤.

### 5ï¸âƒ£ Jenkins Serverìš© Elastic IP ìƒì„±

#### A. Elastic IP ìƒì„±
```
1. EC2 Dashboard â†’ ì™¼ìª½ ë©”ë‰´ "ë„¤íŠ¸ì›Œí¬ ë° ë³´ì•ˆ" â†’ "Elastic IP" í´ë¦­
2. ìš°ì¸¡ ìƒë‹¨ "Elastic IP ì£¼ì†Œ í• ë‹¹" ë²„íŠ¼ í´ë¦­
3. ì„¤ì •:
   - ë„¤íŠ¸ì›Œí¬ ê²½ê³„ ê·¸ë£¹: ap-northeast-2 (ì„œìš¸ ë¦¬ì „)
   - í¼ë¸”ë¦­ IPv4 ì£¼ì†Œ í’€: Amazonì˜ IPv4 ì£¼ì†Œ í’€ (ê¸°ë³¸ê°’)
   - íƒœê·¸ ì¶”ê°€ (ì„ íƒì‚¬í•­):
     * í‚¤: Name, ê°’: skn12-jenkins-eip  
     * í‚¤: Project, ê°’: SKN12-FINAL-2TEAM
4. "í• ë‹¹" ë²„íŠ¼ í´ë¦­
```

#### B. Jenkins Serverì— Elastic IP ì—°ê²°
```
1. ë°©ê¸ˆ ìƒì„±ëœ Elastic IP ì£¼ì†Œ ì„ íƒ (ì²´í¬ë°•ìŠ¤ í´ë¦­)
2. "ì‘ì—…" ë“œë¡­ë‹¤ìš´ â†’ "Elastic IP ì£¼ì†Œ ì—°ê²°" í´ë¦­  
3. ì—°ê²° ì„¤ì •:
   - ë¦¬ì†ŒìŠ¤ ìœ í˜•: ì¸ìŠ¤í„´ìŠ¤ (ê¸°ë³¸ê°’)
   - ì¸ìŠ¤í„´ìŠ¤: skn12-jenkins-server ì„ íƒ
   - í”„ë¼ì´ë¹— IP ì£¼ì†Œ: (ìë™ ì„ íƒë¨)
4. "ì—°ê²°" ë²„íŠ¼ í´ë¦­
5. "Elastic IP ì£¼ì†Œê°€ ì„±ê³µì ìœ¼ë¡œ ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤" ë©”ì‹œì§€ í™•ì¸
```

### 5ï¸âƒ£ Deploy Serverìš© Elastic IP ìƒì„±

#### A. ë‘ ë²ˆì§¸ Elastic IP ìƒì„±
```
ë‹¤ì‹œ "Elastic IP ì£¼ì†Œ í• ë‹¹" ë²„íŠ¼ í´ë¦­

ì„¤ì •:
- ë„¤íŠ¸ì›Œí¬ ê²½ê³„ ê·¸ë£¹: ap-northeast-2
- íƒœê·¸:
  * í‚¤: Name, ê°’: skn12-deploy-eip
  * í‚¤: Project, ê°’: SKN12-FINAL-2TEAM
```

#### B. Deploy Serverì— ì—°ê²°
```
ìƒì„±ëœ Elastic IPë¥¼ skn12-deploy-serverì— ì—°ê²°
(Jenkinsì™€ ë™ì¼í•œ ê³¼ì •)
```

### 5ï¸âƒ£ IP ì£¼ì†Œ ê¸°ë¡í•˜ê¸°
```
1. "Elastic IP" í˜ì´ì§€ì—ì„œ í• ë‹¹ëœ IP ì£¼ì†Œë“¤ í™•ì¸
2. ë©”ëª¨ì¥ì— ê¸°ë¡:

Jenkins Server IP: [ì˜ˆ: 13.125.123.45]
Deploy Server IP: [ì˜ˆ: 52.79.234.56]

3. ì´ IPë“¤ì€ ì•ìœ¼ë¡œ ê³„ì† ì‚¬ìš©ë©ë‹ˆë‹¤!
```

**ğŸ’° ë¹„ìš© ì•ˆë‚´**: 
- Elastic IPë¥¼ ì¸ìŠ¤í„´ìŠ¤ì— ì—°ê²°í•œ ìƒíƒœì—ì„œëŠ” ë¬´ë£Œ
- ì¸ìŠ¤í„´ìŠ¤ì— ì—°ê²°í•˜ì§€ ì•Šê³  ë³´ìœ ë§Œ í•˜ë©´ ì‹œê°„ë‹¹ ìš”ê¸ˆ ë°œìƒ

---

## ğŸ”— Step 6: ì¸ìŠ¤í„´ìŠ¤ ìƒíƒœ í™•ì¸ ë° SSH ì ‘ì† í…ŒìŠ¤íŠ¸ (10ë¶„)

> **ğŸ’¡ ì´ ë‹¨ê³„ì—ì„œëŠ”**: ìƒì„±í•œ ì„œë²„ë“¤ì´ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ê³  ì ‘ì† ê°€ëŠ¥í•œì§€ í™•ì¸í•©ë‹ˆë‹¤.

### 6ï¸âƒ£ ì¸ìŠ¤í„´ìŠ¤ ìƒíƒœ í™•ì¸

#### A. ì¸ìŠ¤í„´ìŠ¤ ëª©ë¡ í™•ì¸
```
1. EC2 Dashboard â†’ ì™¼ìª½ ë©”ë‰´ "ì¸ìŠ¤í„´ìŠ¤" â†’ "ì¸ìŠ¤í„´ìŠ¤" í´ë¦­
2. ìƒì„±í•œ ì¸ìŠ¤í„´ìŠ¤ë“¤ í™•ì¸:

skn12-jenkins-server:
- ì¸ìŠ¤í„´ìŠ¤ ìƒíƒœ: âœ… running (ë…¹ìƒ‰)
- ìƒíƒœ ê²€ì‚¬: âœ… 2/2 checks passed 
- í¼ë¸”ë¦­ IPv4 ì£¼ì†Œ: [Jenkins Elastic IP]
- í”„ë¼ì´ë¹— IPv4 ì£¼ì†Œ: 172.31.x.x

skn12-deploy-server:
- ì¸ìŠ¤í„´ìŠ¤ ìƒíƒœ: âœ… running (ë…¹ìƒ‰)  
- ìƒíƒœ ê²€ì‚¬: âœ… 2/2 checks passed
- í¼ë¸”ë¦­ IPv4 ì£¼ì†Œ: [Deploy Elastic IP]
- í”„ë¼ì´ë¹— IPv4 ì£¼ì†Œ: 172.31.x.x
```

#### B. ìƒíƒœ ê²€ì‚¬ ëŒ€ê¸°
```
â° ìƒíƒœ ê²€ì‚¬ê°€ "2/2 checks passed"ê°€ ë  ë•Œê¹Œì§€ ëŒ€ê¸° (ì•½ 2-3ë¶„)

ë§Œì•½ "ìƒíƒœ ê²€ì‚¬" ì¹¸ì— "ì´ˆê¸°í™” ì¤‘" ë˜ëŠ” "1/2 checks passed"ê°€ í‘œì‹œë˜ë©´:
- 2-3ë¶„ ë” ê¸°ë‹¤ë¦¬ê¸°
- í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ (F5)
- ë‘ ê²€ì‚¬ ëª¨ë‘ í†µê³¼í•  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦° í›„ ë‹¤ìŒ ë‹¨ê³„ ì§„í–‰
```

### 6ï¸âƒ£ SSH ì ‘ì† í…ŒìŠ¤íŠ¸ 

#### A. Windows PowerShell ì¤€ë¹„
```
1. ì‹œì‘ ë²„íŠ¼ â†’ "PowerShell" ê²€ìƒ‰ â†’ "Windows PowerShell" ì‹¤í–‰
2. ë˜ëŠ” Win + R â†’ "powershell" ì…ë ¥ â†’ Enter
```

#### B. Jenkins Server SSH ì ‘ì† í…ŒìŠ¤íŠ¸
```powershell
# í‚¤ íŒŒì¼ ê²½ë¡œì™€ ì„œë²„ IPë¡œ SSH ì ‘ì†
ssh -i "C:\aws-keys\skn12-trading-keypair.pem" ubuntu@[Jenkins-Elastic-IP]

# ì˜ˆì‹œ (ì‹¤ì œ IPë¡œ êµì²´í•˜ì„¸ìš”)
ssh -i "C:\aws-keys\skn12-trading-keypair.pem" ubuntu@13.125.123.45
```

#### C. ì²« ì ‘ì† ì‹œ í˜¸ìŠ¤íŠ¸ í‚¤ í™•ì¸
```
ì²« ë²ˆì§¸ ì ‘ì† ì‹œ ë‹¤ìŒ ë©”ì‹œì§€ê°€ í‘œì‹œë©ë‹ˆë‹¤:

The authenticity of host '13.125.123.45 (13.125.123.45)' can't be established.
ECDSA key fingerprint is SHA256:abcd1234...
Are you sure you want to continue connecting (yes/no/[fingerprint])?

â†’ "yes" ì…ë ¥ í›„ Enter
```

#### D. ì„±ê³µì ì¸ ì ‘ì† í™•ì¸
```
ì„±ê³µì ìœ¼ë¡œ ì ‘ì†ë˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ í™”ë©´ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤:

Welcome to Ubuntu 22.04.3 LTS (GNU/Linux 6.2.0-1015-aws x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

Last login: [ë‚ ì§œ/ì‹œê°„]
ubuntu@ip-172-31-xx-xx:~$
```

#### E. ìë™ ì„¤ì • ìŠ¤í¬ë¦½íŠ¸ ì™„ë£Œ í™•ì¸
```bash
# ì„¤ì • ì™„ë£Œ íŒŒì¼ í™•ì¸
cat /home/ubuntu/setup-complete.log

# ì˜ˆìƒ ì¶œë ¥:
# Jenkins Server ì´ˆê¸° ì„¤ì • ì™„ë£Œ: Wed Aug 12 14:23:45 KST 2025

# Docker ì„¤ì¹˜ í™•ì¸
docker --version
# ì˜ˆìƒ ì¶œë ¥: Docker version 24.0.7, build afdd53b

# Docker Compose í™•ì¸  
docker compose version
# ì˜ˆìƒ ì¶œë ¥: Docker Compose version v2.21.0

# ì„¤ì¹˜ëœ íŒ¨í‚¤ì§€ í™•ì¸
git --version
curl --version
```

#### F. Jenkins ì„œë²„ì—ì„œ ë¡œê·¸ì•„ì›ƒ
```bash
# SSH ì—°ê²° ì¢…ë£Œ
exit

# ë˜ëŠ” Ctrl + D
```

### 6ï¸âƒ£ Deploy Server SSH ì ‘ì† í…ŒìŠ¤íŠ¸

#### A. Deploy Server ì ‘ì†
```powershell
# PowerShellì—ì„œ Deploy Serverì— ì ‘ì†
ssh -i "C:\aws-keys\skn12-trading-keypair.pem" ubuntu@[Deploy-Elastic-IP]

# ì˜ˆì‹œ
ssh -i "C:\aws-keys\skn12-trading-keypair.pem" ubuntu@52.79.234.56
```

#### B. Deploy Server ì„¤ì • í™•ì¸
```bash
# ì„¤ì • ì™„ë£Œ í™•ì¸
cat /home/ubuntu/setup-complete.log

# Docker í™•ì¸
docker --version

# Nginx í™•ì¸
nginx -v
systemctl status nginx

# ì• í”Œë¦¬ì¼€ì´ì…˜ ë””ë ‰í† ë¦¬ í™•ì¸
ls -la /opt/skn12-trading/
tree /opt/skn12-trading/

# ì˜ˆìƒ ì¶œë ¥:
# /opt/skn12-trading/
# â”œâ”€â”€ configs/
# â”‚   â”œâ”€â”€ base-web-server/
# â”‚   â””â”€â”€ model-server/
# â”œâ”€â”€ logs/
# â”‚   â”œâ”€â”€ base-web-server/
# â”‚   â”œâ”€â”€ model-server/
# â”‚   â””â”€â”€ nginx/
# â”œâ”€â”€ backups/
# â””â”€â”€ ssl/

# ë°©í™”ë²½ ìƒíƒœ í™•ì¸
ufw status

# ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ í™•ì¸
df -h
```

#### C. Deploy ì„œë²„ì—ì„œ ë¡œê·¸ì•„ì›ƒ
```bash
exit
```

### 6ï¸âƒ£ ì ‘ì† ë¬¸ì œ í•´ê²°

#### ë¬¸ì œ 1: "Permission denied (publickey)"
```
ì›ì¸: í‚¤ íŒŒì¼ ê¶Œí•œ ë¬¸ì œ

í•´ê²°ì±…:
1. í‚¤ íŒŒì¼ ê¶Œí•œ ì¬ì„¤ì •:
   - C:\aws-keys\skn12-trading-keypair.pem ìš°í´ë¦­
   - ì†ì„± â†’ ë³´ì•ˆ â†’ ê³ ê¸‰ â†’ ìƒì† ì‚¬ìš© ì•ˆí•¨
   - ì†Œìœ ìë§Œ "ëª¨ë“  ê¶Œí•œ" ë¶€ì—¬

2. ë‹¤ë¥¸ SSH í´ë¼ì´ì–¸íŠ¸ ì‹œë„:
   - Git Bash
   - Windows Subsystem for Linux (WSL)
   - MobaXterm
   - PuTTY (.ppk íŒŒì¼ í•„ìš”)
```

#### ë¬¸ì œ 2: "Connection timed out"  
```
ì›ì¸: ë„¤íŠ¸ì›Œí¬ ë˜ëŠ” ë³´ì•ˆ ê·¸ë£¹ ë¬¸ì œ

í•´ê²°ì±…:
1. ë³´ì•ˆ ê·¸ë£¹ í™•ì¸:
   - EC2 â†’ ë³´ì•ˆ ê·¸ë£¹ â†’ skn12-jenkins-sg í´ë¦­
   - ì¸ë°”ìš´ë“œ ê·œì¹™ì—ì„œ SSH (í¬íŠ¸ 22) ê·œì¹™ í™•ì¸
   - ì†ŒìŠ¤ê°€ "ë‚´ IP"ë¡œ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸

2. ë‚´ IP ì£¼ì†Œ ë³€ê²½ í™•ì¸:
   - whatismyipaddress.comì—ì„œ í˜„ì¬ IP í™•ì¸
   - ë³´ì•ˆ ê·¸ë£¹ì—ì„œ IP ì—…ë°ì´íŠ¸

3. ì¸ìŠ¤í„´ìŠ¤ ìƒíƒœ í™•ì¸:
   - ì¸ìŠ¤í„´ìŠ¤ê°€ "running" ìƒíƒœì¸ì§€ í™•ì¸
   - ìƒíƒœ ê²€ì‚¬ê°€ "2/2 checks passed"ì¸ì§€ í™•ì¸
```

#### ë¬¸ì œ 3: "Host key verification failed"
```
ì›ì¸: ì´ì „ì— ê°™ì€ IPë¡œ ë‹¤ë¥¸ ì„œë²„ì— ì ‘ì†í•œ ì ì´ ìˆìŒ

í•´ê²°ì±…:
# known_hosts íŒŒì¼ì—ì„œ í•´ë‹¹ IP ì œê±°
ssh-keygen -R [ì„œë²„-IP-ì£¼ì†Œ]

# ë˜ëŠ” í˜¸ìŠ¤íŠ¸ í‚¤ í™•ì¸ ê±´ë„ˆë›°ê¸° (ì„ì‹œ)
ssh -o StrictHostKeyChecking=no -i "í‚¤íŒŒì¼" ubuntu@ì„œë²„IP
```

---

## ğŸ“ Step 7: ì„œë²„ ì •ë³´ ì •ë¦¬ ë° ë¬¸ì„œí™” (5ë¶„)

### 7ï¸âƒ£ ì ‘ì† ì •ë³´ ì •ë¦¬

#### A. ì„œë²„ ì •ë³´ ìš”ì•½í‘œ ì‘ì„±
```
=== SKN12 Trading Platform ì„œë²„ ì •ë³´ ===

Jenkins Server (CI/CD):
- ì´ë¦„: skn12-jenkins-server
- Public IP: [Jenkins-Elastic-IP]
- SSH ì ‘ì†: ssh -i "C:\aws-keys\skn12-trading-keypair.pem" ubuntu@[Jenkins-IP]
- Jenkins URL: http://[Jenkins-IP]:18080 (Jenkins ì„¤ì¹˜ í›„)
- ì‚¬ì–‘: t3.medium (2 vCPU, 4GB RAM, 30GB SSD)
- ì›” ì˜ˆìƒ ë¹„ìš©: ~$30

Deploy Server (Application):
- ì´ë¦„: skn12-deploy-server  
- Public IP: [Deploy-Elastic-IP]
- SSH ì ‘ì†: ssh -i "C:\aws-keys\skn12-trading-keypair.pem" ubuntu@[Deploy-IP]
- App URLs: 
  * Base Web Server: http://[Deploy-IP]:8000 (ë°°í¬ í›„)
  * Model Server: http://[Deploy-IP]:8001 (ë°°í¬ í›„)
  * Nginx Proxy: http://[Deploy-IP] (ì„¤ì • í›„)
- ì‚¬ì–‘: t3.small (2 vCPU, 2GB RAM, 20GB SSD)  
- ì›” ì˜ˆìƒ ë¹„ìš©: ~$15

AWS ë¦¬ì†ŒìŠ¤:
- í‚¤ í˜ì–´: skn12-trading-keypair
- ë³´ì•ˆ ê·¸ë£¹: skn12-jenkins-sg, skn12-deploy-sg
- Elastic IP: 2ê°œ (ê° ì„œë²„ë‹¹ 1ê°œ)
- ë¦¬ì „: ap-northeast-2 (ì„œìš¸)

ì´ ì›” ì˜ˆìƒ ë¹„ìš©: ~$45 (EC2ë§Œ, ê¸°ì¡´ AWS ì„œë¹„ìŠ¤ ë³„ë„)
```

#### B. ë©”ëª¨ì¥ì— ì €ì¥
```
1. ë©”ëª¨ì¥ ì‹¤í–‰ (ì‹œì‘ â†’ "ë©”ëª¨ì¥" ê²€ìƒ‰)
2. ìœ„ ì •ë³´ë¥¼ ë³µì‚¬í•˜ì—¬ ë¶™ì—¬ë„£ê¸°
3. íŒŒì¼ ì €ì¥:
   - íŒŒì¼ëª…: SKN12_ì„œë²„ì •ë³´.txt
   - ìœ„ì¹˜: C:\aws-keys\ (í‚¤ íŒŒì¼ê³¼ ê°™ì€ í´ë”)
```

### 7ï¸âƒ£ ë„¤íŠ¸ì›Œí¬ ì—°ê²° í…ŒìŠ¤íŠ¸

#### A. Jenkins Serverì—ì„œ ì™¸ë¶€ ì—°ê²° í…ŒìŠ¤íŠ¸
```bash
# Jenkins Serverì— SSH ì ‘ì†
ssh -i "C:\aws-keys\skn12-trading-keypair.pem" ubuntu@[Jenkins-IP]

# ì™¸ë¶€ ì„œë¹„ìŠ¤ ì—°ê²° í…ŒìŠ¤íŠ¸
curl -I https://hub.docker.com
# ì‘ë‹µ: HTTP/2 200 (ì •ìƒ)

curl -I https://github.com  
# ì‘ë‹µ: HTTP/2 200 (ì •ìƒ)

curl -I https://google.com
# ì‘ë‹µ: HTTP/2 200 (ì •ìƒ)

# AWS ì„œë¹„ìŠ¤ ì—°ê²° í…ŒìŠ¤íŠ¸ (ê¸°ì¡´ ì„¤ì • í™•ì¸)
curl -I https://s3.ap-northeast-2.amazonaws.com
# ì‘ë‹µ: HTTP/1.1 200 OK (ì •ìƒ)

exit
```

#### B. Deploy Serverì—ì„œ ì—°ê²° í…ŒìŠ¤íŠ¸
```bash
# Deploy Serverì— SSH ì ‘ì†
ssh -i "C:\aws-keys\skn12-trading-keypair.pem" ubuntu@[Deploy-IP]

# Docker Hub ì—°ê²° í…ŒìŠ¤íŠ¸
curl -I https://hub.docker.com

# GitHub ì—°ê²° í…ŒìŠ¤íŠ¸  
curl -I https://github.com

# Nginx ì›¹ì„œë²„ ë™ì‘ í™•ì¸
curl http://localhost
# ì‘ë‹µ: HTML í˜ì´ì§€ (Nginx ê¸°ë³¸ í˜ì´ì§€)

# ë˜ëŠ” ë¸Œë¼ìš°ì €ì—ì„œ í™•ì¸:
# http://[Deploy-IP] ì ‘ì† â†’ "Welcome to nginx!" í˜ì´ì§€ í‘œì‹œ

exit
```

---

## âœ… EC2 ì„¤ì • ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ğŸ¯ ê¸°ë³¸ ì¸í”„ë¼ í™•ì¸:
- [ ] Jenkins Server EC2 ìƒì„± ë° running ìƒíƒœ
- [ ] Deploy Server EC2 ìƒì„± ë° running ìƒíƒœ  
- [ ] í‚¤ í˜ì–´ ìƒì„± ë° ì•ˆì „í•œ ë³´ê´€ (C:\aws-keys\)
- [ ] ë³´ì•ˆ ê·¸ë£¹ ìƒì„± (skn12-jenkins-sg, skn12-deploy-sg)
- [ ] Elastic IP í• ë‹¹ ë° ì—°ê²° (2ê°œ)
- [ ] SSH ì ‘ì† í…ŒìŠ¤íŠ¸ ì„±ê³µ (ì–‘ìª½ ì„œë²„ ëª¨ë‘)

### ğŸ› ï¸ ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ì¹˜ í™•ì¸:
- [ ] Jenkins Server: Docker, Docker Compose ì„¤ì¹˜ ì™„ë£Œ
- [ ] Deploy Server: Docker, Nginx ì„¤ì¹˜ ì™„ë£Œ
- [ ] ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸ ë° ê¸°ë³¸ íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì™„ë£Œ
- [ ] ì‹œê°„ëŒ€ ì„¤ì • (Asia/Seoul) ì™„ë£Œ
- [ ] Git ì„¤ì • ì™„ë£Œ

### ğŸ“ ë””ë ‰í† ë¦¬ êµ¬ì¡° í™•ì¸:
- [ ] `/opt/skn12-trading/configs/` ì¡´ì¬
- [ ] `/opt/skn12-trading/logs/` ì¡´ì¬  
- [ ] `/opt/skn12-trading/backups/` ì¡´ì¬
- [ ] ì ì ˆí•œ ê¶Œí•œ ì„¤ì • (ubuntu ì‚¬ìš©ì ì†Œìœ )

### ğŸŒ ë„¤íŠ¸ì›Œí¬ ì—°ê²° í™•ì¸:
- [ ] Jenkins Server â†’ ì™¸ë¶€ ì¸í„°ë„· ì—°ê²° ì •ìƒ
- [ ] Deploy Server â†’ ì™¸ë¶€ ì¸í„°ë„· ì—°ê²° ì •ìƒ
- [ ] Nginx ì›¹ì„œë²„ ì •ìƒ ë™ì‘ (Deploy Server)
- [ ] AWS ì„œë¹„ìŠ¤ ì—°ê²° ì •ìƒ (ê¸°ì¡´ ì„¤ì • í™œìš©)

### ğŸ“ ë¬¸ì„œí™” ì™„ë£Œ:
- [ ] ì„œë²„ ì ‘ì† ì •ë³´ ì •ë¦¬ ë° ì €ì¥
- [ ] IP ì£¼ì†Œ ê¸°ë¡ ë° ë³´ê´€
- [ ] SSH ì ‘ì† ëª…ë ¹ì–´ í™•ì¸

---

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„ ë¯¸ë¦¬ë³´ê¸°

### 1ï¸âƒ£ Jenkins ì„¤ì¹˜ ë° ì„¤ì • (ë‹¤ìŒ ê°€ì´ë“œ):
- Docker Composeë¡œ Jenkins ì»¨í…Œì´ë„ˆ ì‹¤í–‰
- Jenkins ì´ˆê¸° ì„¤ì • ë° í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜
- GitHub, Docker Hub ì—°ë™ ì„¤ì •

### 2ï¸âƒ£ CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•:
- GitHub Webhook ì„¤ì •
- Jenkinsfile ì‘ì„±
- ìë™ ë¹Œë“œ ë° ë°°í¬ í…ŒìŠ¤íŠ¸

### 3ï¸âƒ£ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬:
- Docker ì´ë¯¸ì§€ ë¹Œë“œ ë° í‘¸ì‹œ
- Deploy Serverì—ì„œ ì»¨í…Œì´ë„ˆ ì‹¤í–‰
- ì‹¤ì œ ì„œë¹„ìŠ¤ ì ‘ì† í…ŒìŠ¤íŠ¸

---

## ğŸ’° ë¹„ìš© ê´€ë¦¬ íŒ

### ê°œë°œ ì¤‘ ë¹„ìš© ì ˆì•½í•˜ê¸°:
```bash
# PowerShellì—ì„œ AWS CLI ì„¤ì¹˜ í›„ (ì„ íƒì‚¬í•­)
# ê°œë°œí•˜ì§€ ì•Šì„ ë•Œ ì¸ìŠ¤í„´ìŠ¤ ì¤‘ì§€
aws ec2 stop-instances --instance-ids i-jenkins123 i-deploy456

# ë‹¤ì‹œ ì‹œì‘í•  ë•Œ  
aws ec2 start-instances --instance-ids i-jenkins123 i-deploy456

# ğŸ’¡ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì¤‘ì§€í•˜ë©´ ì»´í“¨íŒ… ë¹„ìš©ì€ 0ì´ ë˜ê³ , 
#    ì €ì¥ì†Œ(EBS) ë¹„ìš©ë§Œ ë°œìƒí•©ë‹ˆë‹¤ (ì›” $1-2 ì •ë„)
```

### CloudWatch ë¹„ìš© ì•Œë¦¼ ì„¤ì •:
```
1. AWS Console â†’ CloudWatch â†’ ì²­êµ¬ ì•Œë¦¼
2. ì„ê³„ê°’: $50/ì›” ì„¤ì •
3. ì´ë©”ì¼ ì•Œë¦¼ í™œì„±í™”
4. ì˜ˆìƒ ë¹„ìš© ì´ˆê³¼ ì‹œ ì¦‰ì‹œ ì•Œë¦¼ ìˆ˜ì‹ 
```

---

## ğŸ”’ ë³´ì•ˆ ê°•í™” (ì„ íƒì‚¬í•­)

### ì¶”ê°€ ë³´ì•ˆ ì¡°ì¹˜:
```bash
# SSH í¬íŠ¸ ë³€ê²½ (22 â†’ ë‹¤ë¥¸ í¬íŠ¸)
sudo vim /etc/ssh/sshd_config
# Port 2222 (ë˜ëŠ” ë‹¤ë¥¸ í¬íŠ¸)
sudo systemctl restart ssh

# fail2ban ì„¤ì¹˜ (ë¬´ì°¨ë³„ ëŒ€ì… ê³µê²© ë°©ì§€)
sudo apt install fail2ban
sudo systemctl enable fail2ban
sudo systemctl start fail2ban

# ìë™ ë³´ì•ˆ ì—…ë°ì´íŠ¸ í™œì„±í™”
sudo apt install unattended-upgrades
sudo dpkg-reconfigure unattended-upgrades
```

### Jenkins HTTPS ì„¤ì • (í–¥í›„):
```bash
# Let's Encrypt SSL ì¸ì¦ì„œ ì„¤ì¹˜
sudo certbot --nginx -d jenkins.yourdomain.com
```

---

## ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤!

AWS EC2 ê¸°ë°˜ CI/CD ì¸í”„ë¼ êµ¬ì¶•ì˜ ê¸°ì´ˆ ë‹¨ê³„ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!

### âœ… ì§€ê¸ˆê¹Œì§€ êµ¬ì¶•í•œ ê²ƒ:
- ğŸ–¥ï¸ **Jenkins Server**: ì½”ë“œ ë¹Œë“œ ë° ë°°í¬ ìë™í™”
- ğŸš€ **Deploy Server**: ì‹¤ì œ ì• í”Œë¦¬ì¼€ì´ì…˜ ìš´ì˜
- ğŸ” **ë³´ì•ˆ**: ì ì ˆí•œ ë°©í™”ë²½ ë° ì ‘ê·¼ ì œì–´
- ğŸŒ **ë„¤íŠ¸ì›Œí¬**: ê³ ì • IP ë° ì™¸ë¶€ ì—°ê²°

### ğŸš€ ë‹¤ìŒ í•  ì¼:
1. **Jenkins ì»¨í…Œì´ë„ˆ ì„¤ì¹˜** (docker-compose ì‚¬ìš©)
2. **Docker Hub ê³„ì • ì—°ë™**
3. **GitHub Webhook ì„¤ì •**  
4. **CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì„±**
5. **ì‹¤ì œ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬**

ëª¨ë“  ì¤€ë¹„ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ì´ì œ ë³¸ê²©ì ì¸ DevOps ìë™í™”ë¥¼ ì‹œì‘í•´ë´…ì‹œë‹¤! ğŸš€