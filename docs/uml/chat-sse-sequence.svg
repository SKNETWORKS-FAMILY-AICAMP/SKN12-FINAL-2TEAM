<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="516px" preserveAspectRatio="none" style="width:634px;height:516px;background:#FFFFFF;" version="1.1" viewBox="0 0 634 516" width="634px" zoomAndPan="magnify"><defs/><g><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="244.4844" width="8" x="19.1826" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="23" x2="23" y1="81.4883" y2="325.9727"/></g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:1,4;" x1="23" x2="23" y1="325.9727" y2="366.9277"/><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="68.6211" width="8" x="19.1826" y="366.9277"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="23" x2="23" y1="366.9277" y2="435.5488"/></g><g><title>ChatPage</title><rect fill="#000000" fill-opacity="0.00000" height="244.4844" width="8" x="147.3989" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="150.728" x2="150.728" y1="81.4883" y2="325.9727"/></g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:1,4;" x1="150.728" x2="150.728" y1="325.9727" y2="366.9277"/><g><title>ChatPage</title><rect fill="#000000" fill-opacity="0.00000" height="68.6211" width="8" x="147.3989" y="366.9277"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="150.728" x2="150.728" y1="366.9277" y2="435.5488"/></g><g><title>ChatStore</title><rect fill="#000000" fill-opacity="0.00000" height="244.4844" width="8" x="315.6939" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="319.5703" x2="319.5703" y1="81.4883" y2="325.9727"/></g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:1,4;" x1="319.5703" x2="319.5703" y1="325.9727" y2="366.9277"/><g><title>ChatStore</title><rect fill="#000000" fill-opacity="0.00000" height="68.6211" width="8" x="315.6939" y="366.9277"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="319.5703" x2="319.5703" y1="366.9277" y2="435.5488"/></g><g><title>Api</title><rect fill="#000000" fill-opacity="0.00000" height="244.4844" width="8" x="384.0762" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="387.8174" x2="387.8174" y1="81.4883" y2="325.9727"/></g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:1,4;" x1="387.8174" x2="387.8174" y1="325.9727" y2="366.9277"/><g><title>Api</title><rect fill="#000000" fill-opacity="0.00000" height="68.6211" width="8" x="384.0762" y="366.9277"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="387.8174" x2="387.8174" y1="366.9277" y2="435.5488"/></g><g><title>SSE</title><rect fill="#000000" fill-opacity="0.00000" height="244.4844" width="8" x="430.669" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="434.335" x2="434.335" y1="81.4883" y2="325.9727"/></g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:1,4;" x1="434.335" x2="434.335" y1="325.9727" y2="366.9277"/><g><title>SSE</title><rect fill="#000000" fill-opacity="0.00000" height="68.6211" width="8" x="430.669" y="366.9277"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="434.335" x2="434.335" y1="366.9277" y2="435.5488"/></g><g><title>SSE</title><rect fill="#000000" fill-opacity="0.00000" height="244.4844" width="8" x="477.3369" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="481.0029" x2="481.0029" y1="81.4883" y2="325.9727"/></g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:1,4;" x1="481.0029" x2="481.0029" y1="325.9727" y2="366.9277"/><g><title>SSE</title><rect fill="#000000" fill-opacity="0.00000" height="68.6211" width="8" x="477.3369" y="366.9277"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="481.0029" x2="481.0029" y1="366.9277" y2="435.5488"/></g><g><title>TypingMessage</title><rect fill="#000000" fill-opacity="0.00000" height="244.4844" width="8" x="565.0889" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="568.6709" x2="568.6709" y1="81.4883" y2="325.9727"/></g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:1,4;" x1="568.6709" x2="568.6709" y1="325.9727" y2="366.9277"/><g><title>TypingMessage</title><rect fill="#000000" fill-opacity="0.00000" height="68.6211" width="8" x="565.0889" y="366.9277"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="568.6709" x2="568.6709" y1="366.9277" y2="435.5488"/></g><g class="participant participant-head" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.3652" x="5" y="78.5352">User</text><ellipse cx="23.1826" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M23.1826,21.5 L23.1826,48.5 M10.1826,29.5 L36.1826,29.5 M23.1826,48.5 L10.1826,63.5 M23.1826,48.5 L36.1826,63.5" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.3652" x="5" y="448.084">User</text><ellipse cx="23.1826" cy="459.5371" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M23.1826,467.5371 L23.1826,494.5371 M10.1826,475.5371 L36.1826,475.5371 M23.1826,494.5371 L10.1826,509.5371 M23.1826,494.5371 L36.1826,509.5371" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="UI"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77.3418" x="112.728" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.3418" x="119.728" y="70.5352">ChatPage</text></g><g class="participant participant-tail" data-participant="UI"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77.3418" x="112.728" y="434.5488"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.3418" x="119.728" y="455.084">ChatPage</text></g><g class="participant participant-head" data-participant="CS"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80.2471" x="279.5703" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66.2471" x="286.5703" y="70.5352">ChatStore</text></g><g class="participant participant-tail" data-participant="CS"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80.2471" x="279.5703" y="434.5488"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66.2471" x="286.5703" y="455.084">ChatStore</text></g><g class="participant participant-head" data-participant="ChatAPI"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="36.5176" x="369.8174" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="22.5176" x="376.8174" y="70.5352">Api</text></g><g class="participant participant-tail" data-participant="ChatAPI"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="36.5176" x="369.8174" y="434.5488"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="22.5176" x="376.8174" y="455.084">Api</text></g><g class="participant participant-head" data-participant="EventSource"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="36.668" x="416.335" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="22.668" x="423.335" y="70.5352">SSE</text></g><g class="participant participant-tail" data-participant="EventSource"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="36.668" x="416.335" y="434.5488"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="22.668" x="423.335" y="455.084">SSE</text></g><g class="participant participant-head" data-participant="SSE"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="36.668" x="463.0029" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="22.668" x="470.0029" y="70.5352">SSE</text></g><g class="participant participant-tail" data-participant="SSE"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="36.668" x="463.0029" y="434.5488"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="22.668" x="470.0029" y="455.084">SSE</text></g><g class="participant participant-head" data-participant="TypingMessage"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118.8359" x="509.6709" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.8359" x="516.6709" y="70.5352">TypingMessage</text></g><g class="participant participant-tail" data-participant="TypingMessage"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118.8359" x="509.6709" y="434.5488"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.8359" x="516.6709" y="455.084">TypingMessage</text></g><g class="message" data-participant-1="User" data-participant-2="UI"><polygon fill="#181818" points="139.3989,108.7988,149.3989,112.7988,139.3989,116.7988,143.3989,112.7988" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="23.1826" x2="145.3989" y1="112.7988" y2="112.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.2163" x="30.1826" y="108.0566">&#51077;&#47141; &#51228;&#52636;(prompt)</text></g><g class="message" data-participant-1="UI" data-participant-2="CS"><polygon fill="#181818" points="307.6939,138.1094,317.6939,142.1094,307.6939,146.1094,311.6939,142.1094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="151.3989" x2="313.6939" y1="142.1094" y2="142.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.3555" x="158.3989" y="137.3672">appendUser(prompt)</text></g><g class="message" data-participant-1="UI" data-participant-2="ChatAPI"><polygon fill="#181818" points="376.0762,167.4199,386.0762,171.4199,376.0762,175.4199,380.0762,171.4199" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="151.3989" x2="382.0762" y1="171.4199" y2="171.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131.8091" x="158.3989" y="166.6777">POST /api/chat/start</text></g><g class="message" data-participant-1="ChatAPI" data-participant-2="UI"><polygon fill="#181818" points="162.3989,196.7305,152.3989,200.7305,162.3989,204.7305,158.3989,200.7305" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="156.3989" x2="387.0762" y1="200.7305" y2="200.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69.9067" x="168.3989" y="195.9883">{streamUrl}</text></g><g class="message" data-participant-1="UI" data-participant-2="SSE"><polygon fill="#181818" points="469.3369,226.041,479.3369,230.041,469.3369,234.041,473.3369,230.041" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="151.3989" x2="475.3369" y1="230.041" y2="230.041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101.3848" x="158.3989" y="225.2988">open(streamUrl)</text></g><g class="message" data-participant-1="SSE" data-participant-2="UI"><polygon fill="#181818" points="162.3989,255.3516,152.3989,259.3516,162.3989,263.3516,158.3989,259.3516" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="156.3989" x2="480.3369" y1="259.3516" y2="259.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.8936" x="168.3989" y="254.6094">onmessage(delta)</text></g><g class="message" data-participant-1="UI" data-participant-2="CS"><polygon fill="#181818" points="307.6939,284.6621,317.6939,288.6621,307.6939,292.6621,311.6939,288.6621" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="151.3989" x2="313.6939" y1="288.6621" y2="288.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144.2949" x="158.3989" y="283.9199">appendAssistant(delta)</text></g><g class="message" data-participant-1="UI" data-participant-2="TypingMessage"><polygon fill="#181818" points="557.0889,313.9727,567.0889,317.9727,557.0889,321.9727,561.0889,317.9727" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="151.3989" x2="563.0889" y1="317.9727" y2="317.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="322.5063" x="158.3989" y="313.2305">render(delta)  // setInterval 18ms &#44592;&#48152;, &#47928;&#51088; &#45800;&#50948; &#52376;&#47532;</text></g><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="19.03" x="286.6207" y="350.6074">&#48152;&#48373;</text><g class="message" data-participant-1="SSE" data-participant-2="UI"><polygon fill="#181818" points="162.3989,384.2383,152.3989,388.2383,162.3989,392.2383,158.3989,388.2383" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="156.3989" x2="480.3369" y1="388.2383" y2="388.2383"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44.9414" x="168.3989" y="383.4961">[DONE]</text></g><g class="message" data-participant-1="UI" data-participant-2="SSE"><polygon fill="#181818" points="469.3369,413.5488,479.3369,417.5488,469.3369,421.5488,473.3369,417.5488" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="151.3989" x2="475.3369" y1="417.5488" y2="417.5488"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40.7266" x="158.3989" y="412.8066">close()</text></g><!--SRC=[PP2nIyD05CRt-olUc81DS9CCGeWPCcW3rqpYSAH73IINu-uiYBZfvEBO8PGkYaE7eYZzcvhy4RuqKOpT7k_tVU_xxbXgIWM9vef8faoMPf890y4rCp6RSM0QakW0KJJjMK07p9VPVeiIFnxQA0rR5CwvCBIyKIadf8s5qIacUD0i7-lL2pIhglcgBAdAGXgR957B0-e1avABQUlu3xim3-8ndO3BPEQck7ArmNJIKnZrCNVQACwAHENtlH-BUL3YSUiNsQHj-sCfHS6rni-mfZmtxB2KhtM6QS8C1PDRcOdPUUVrGA4IotSI0DS5pKqa35TpbiFnIQ5XjztKcyKHrEjjito6-kcjgHwWUL_KhslYE0uWhJy-0ST1mykpyKLuzVSzQLvgRjdV]--></g></svg>