<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="557px" preserveAspectRatio="none" style="width:876px;height:557px;background:#FFFFFF;" version="1.1" viewBox="0 0 876 557" width="876px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="266.75" style="stroke:#000000;stroke-width:1.5;" width="777.2886" x="10" y="192.4199"/><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="394.6816" width="8" x="34.1826" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="38" x2="38" y1="81.4883" y2="476.1699"/></g><g><title>Browser</title><rect fill="#000000" fill-opacity="0.00000" height="394.6816" width="8" x="178.8008" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="181.8843" x2="181.8843" y1="81.4883" y2="476.1699"/></g><g><title>AuthProvider</title><rect fill="#000000" fill-opacity="0.00000" height="394.6816" width="8" x="428.4219" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="431.436" x2="431.436" y1="81.4883" y2="476.1699"/></g><g><title>RouteGuard</title><rect fill="#000000" fill-opacity="0.00000" height="394.6816" width="8" x="536.5347" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="540.4077" x2="540.4077" y1="81.4883" y2="476.1699"/></g><g><title>ApiClient</title><rect fill="#000000" fill-opacity="0.00000" height="394.6816" width="8" x="631.6729" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="635.6616" x2="635.6616" y1="81.4883" y2="476.1699"/></g><g><title>AuthService</title><rect fill="#000000" fill-opacity="0.00000" height="394.6816" width="8" x="726.4863" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="729.6841" x2="729.6841" y1="81.4883" y2="476.1699"/></g><g class="participant participant-head" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.3652" x="20" y="78.5352">User</text><ellipse cx="38.1826" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.1826,21.5 L38.1826,48.5 M25.1826,29.5 L51.1826,29.5 M38.1826,48.5 L25.1826,63.5 M38.1826,48.5 L51.1826,63.5" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.3652" x="20" y="488.7051">User</text><ellipse cx="38.1826" cy="500.1582" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.1826,508.1582 L38.1826,535.1582 M25.1826,516.1582 L51.1826,516.1582 M38.1826,535.1582 L25.1826,550.1582 M38.1826,535.1582 L51.1826,550.1582" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="Browser"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="67.833" x="148.8843" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.833" x="155.8843" y="70.5352">Browser</text></g><g class="participant participant-tail" data-participant="Browser"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="67.833" x="148.8843" y="475.1699"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.833" x="155.8843" y="495.7051">Browser</text></g><g class="participant participant-head" data-participant="AP"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101.9717" x="381.436" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.9717" x="388.436" y="70.5352">AuthProvider</text></g><g class="participant participant-tail" data-participant="AP"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101.9717" x="381.436" y="475.1699"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.9717" x="388.436" y="495.7051">AuthProvider</text></g><g class="participant participant-head" data-participant="RG"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="94.2539" x="493.4077" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.2539" x="500.4077" y="70.5352">RouteGuard</text></g><g class="participant participant-tail" data-participant="RG"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="94.2539" x="493.4077" y="475.1699"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.2539" x="500.4077" y="495.7051">RouteGuard</text></g><g class="participant participant-head" data-participant="API"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76.0225" x="597.6616" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62.0225" x="604.6616" y="70.5352">ApiClient</text></g><g class="participant participant-tail" data-participant="API"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76.0225" x="597.6616" y="475.1699"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62.0225" x="604.6616" y="495.7051">ApiClient</text></g><g class="participant participant-head" data-participant="AS"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93.6045" x="683.6841" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79.6045" x="690.6841" y="70.5352">AuthService</text></g><g class="participant participant-tail" data-participant="AS"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93.6045" x="683.6841" y="475.1699"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79.6045" x="690.6841" y="495.7051">AuthService</text></g><g class="message" data-participant-1="User" data-participant-2="Browser"><polygon fill="#181818" points="170.8008,108.7988,180.8008,112.7988,170.8008,116.7988,174.8008,112.7988" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.1826" x2="176.8008" y1="112.7988" y2="112.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.6182" x="45.1826" y="108.0566">Access /dashboard</text></g><g class="message" data-participant-1="Browser" data-participant-2="RG"><polygon fill="#181818" points="528.5347,138.1094,538.5347,142.1094,528.5347,146.1094,532.5347,142.1094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="182.8008" x2="534.5347" y1="142.1094" y2="142.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83.5542" x="189.8008" y="137.3672">requireAuth()</text></g><path d="M545,155.1094 L545,180.1094 L869,180.1094 L869,165.1094 L859,155.1094 L545,155.1094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M859,155.1094 L859,165.1094 L869,165.1094 L859,155.1094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="303.7163" x="551" y="172.6777">&#171;planned&#187; RouteGuard implementation required</text><path d="M10,192.4199 L72.1387,192.4199 L72.1387,199.7305 L62.1387,209.7305 L10,209.7305 L10,192.4199" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="266.75" style="stroke:#000000;stroke-width:1.5;" width="777.2886" x="10" y="192.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="25" y="205.9883">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="58.1421" x="87.1387" y="205.0547">[no token]</text><g class="message" data-participant-1="RG" data-participant-2="Browser"><polygon fill="#181818" points="193.8008,227.041,183.8008,231.041,193.8008,235.041,189.8008,231.041" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="187.8008" x2="539.5347" y1="231.041" y2="231.041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.5322" x="199.8008" y="226.2988">redirect(/login)</text></g><g class="message" data-participant-1="User" data-participant-2="Browser"><polygon fill="#181818" points="170.8008,256.3516,180.8008,260.3516,170.8008,264.3516,174.8008,260.3516" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.1826" x2="176.8008" y1="260.3516" y2="260.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.6445" x="45.1826" y="255.6094">submit credentials</text></g><g class="message" data-participant-1="Browser" data-participant-2="AS"><polygon fill="#181818" points="718.4863,285.6621,728.4863,289.6621,718.4863,293.6621,722.4863,289.6621" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="182.8008" x2="724.4863" y1="289.6621" y2="289.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.1064" x="189.8008" y="284.9199">POST /auth/login</text></g><g class="message" data-participant-1="AS" data-participant-2="Browser"><polygon fill="#181818" points="193.8008,314.9727,183.8008,318.9727,193.8008,322.9727,189.8008,318.9727" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="187.8008" x2="729.4863" y1="318.9727" y2="318.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167.7749" x="199.8008" y="314.2305">{token, refreshToken, exp}</text></g><g class="message" data-participant-1="Browser" data-participant-2="AP"><polygon fill="#181818" points="420.4219,344.2832,430.4219,348.2832,420.4219,352.2832,424.4219,348.2832" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="182.8008" x2="426.4219" y1="348.2832" y2="348.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225.6211" x="189.8008" y="343.541">setToken(token, refreshToken, exp)</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="10" x2="787.2886" y1="357.2832" y2="357.2832"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="77.3115" x="15" y="367.918">[token exists]</text><g class="message" data-participant-1="RG" data-participant-2="Browser"><polygon fill="#181818" points="193.8008,388.5488,183.8008,392.5488,193.8008,396.5488,189.8008,392.5488" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="187.8008" x2="539.5347" y1="392.5488" y2="392.5488"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.7334" x="199.8008" y="387.8066">render(dashboard)</text></g><g class="message" data-participant-1="Browser" data-participant-2="API"><polygon fill="#181818" points="623.6729,417.8594,633.6729,421.8594,623.6729,425.8594,627.6729,421.8594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="182.8008" x2="629.6729" y1="421.8594" y2="421.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237.1167" x="189.8008" y="417.1172">GET /portfolio (Authorization: Bearer)</text></g><g class="message" data-participant-1="API" data-participant-2="Browser"><polygon fill="#181818" points="193.8008,447.1699,183.8008,451.1699,193.8008,455.1699,189.8008,451.1699" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="187.8008" x2="634.6729" y1="451.1699" y2="451.1699"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.48" x="199.8008" y="446.4277">Portfolio JSON</text></g><!--SRC=[TL5VJy8m47_lfxZ7BP7mlX2IOSo23x8m_01bEzp5qjPhXqRZT_SsX33GjxQ_ltVLTNGCpm5PUSsHQlBQHbYmUxz-oxlObkmEr2233f2N8tZjkeX5fxdfmNKnrdgwDuHo6eJB6-CA-K0r3d2bL5y89lDJZmpokiOGODheq6wTXAXVg6UjYmmOtpfYxBsIL5aN4PXUsWXkD-2pcJVQMcpcyykgjFS6zr9CHtBsvD8efKq4wo2wLxGAn69KHoX2gsCoDUw5R2gCcygXs-ufGYrSyITjWh0kMkTL1kMgsi1KI-cZaJ3o2YQNDbz3XJk9t366TdEyuOV_lh8h9HBZW2V_QLA59k1nAhbJYE6luQnySN9UTNeTjCoWU93Utd7SEKCEadxlZkbpM6C62zICt0k5FPwdF8iUgzMJaYpr0m00]--></g></svg>