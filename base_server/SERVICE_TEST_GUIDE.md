# π― μ„λΉ„μ¤ μ΄κΈ°ν™” λ° ν…μ¤νΈ κ°€μ΄λ“

## π“– κ°μ”

base_web_serverμ— μ¶”κ°€λ μƒλ΅μ΄ μ„λΉ„μ¤λ“¤(LockService, SchedulerService, QueueService)μ μ΄κΈ°ν™”, ν…μ¤νΈ, μ‹¤μ  λ™μ‘μ„ ν™•μΈν•  μ μλ” μ™„μ „ν• κ°€μ΄λ“μ…λ‹λ‹¤.

## π€ μ„λ²„ μ‹¤ν–‰

```bash
cd /mnt/c/SKN12-FINAL-2TEAM/base_server/application/base_web_server
uvicorn main:app --reload --log-level debug
```

## π”§ μ΄κΈ°ν™” κ³Όμ •

μ„λ²„ μ‹μ‘ μ‹ λ‹¤μ μμ„λ΅ μ„λΉ„μ¤κ°€ μ΄κΈ°ν™”λ©λ‹λ‹¤:

1. **Database Service** - MySQL μ—°κ²°
2. **Cache Service** - Redis μ—°κ²°
3. **LockService** - Redis λ¶„μ‚°λ½ μ΄κΈ°ν™”
4. **SchedulerService** - μ¤μΌ€μ¤„λ¬ μ‹μ‘
5. **QueueService** - λ©”μ‹μ§€ν/μ΄λ²¤νΈν ν†µν•© μ΄κΈ°ν™”
6. **λΉ λ¥Έ ν…μ¤νΈ μλ™ μ‹¤ν–‰**

## π“ API μ—”λ“ν¬μΈνΈ

### π” μƒνƒ ν™•μΈ

| μ—”λ“ν¬μΈνΈ | μ„¤λ… | μ‘λ‹µ |
|------------|------|------|
| `GET /` | κΈ°λ³Έ μ„λΉ„μ¤ μƒνƒ | λ¨λ“  μ„λΉ„μ¤ μ΄κΈ°ν™” μƒνƒ |
| `GET /health` | μƒμ„Έ ν—¬μ¤μ²΄ν¬ | DB/Redis μ—°κ²° ν…μ¤νΈ ν¬ν•¨ |
| `GET /debug/services` | λ””λ²„κ·Έ μ •λ³΄ | κ° μ„λΉ„μ¤ μƒμ„Έ μƒνƒ |
| `GET /queue/stats` | ν ν†µκ³„ | λ©”μ‹μ§€/μ΄λ²¤νΈ ν ν†µκ³„ |

### π§ ν…μ¤νΈ API

| μ—”λ“ν¬μΈνΈ | μ„¤λ… | μ†μ”μ‹κ°„ |
|------------|------|----------|
| `GET /test/quick` | λΉ λ¥Έ κΈ°λ³Έ ν…μ¤νΈ | ~10μ΄ |
| `GET /test/full` | μ „μ²΄ μ„λΉ„μ¤ ν…μ¤νΈ | ~30μ΄ |
| `GET /test/cache` | μΊμ‹ μ„λΉ„μ¤ μ§‘μ¤‘ ν…μ¤νΈ | ~15μ΄ |
| `GET /test/lock` | λ¶„μ‚°λ½ μ§‘μ¤‘ ν…μ¤νΈ | ~10μ΄ |
| `GET /test/scheduler` | μ¤μΌ€μ¤„λ¬ μ§‘μ¤‘ ν…μ¤νΈ | ~20μ΄ |
| `GET /test/queue` | ν μ„λΉ„μ¤ μ§‘μ¤‘ ν…μ¤νΈ | ~25μ΄ |

### π“¤ μλ™ ν…μ¤νΈ

| μ—”λ“ν¬μΈνΈ | λ©”μ„λ“ | μ„¤λ… |
|------------|--------|------|
| `/test/message` | POST | ν…μ¤νΈ λ©”μ‹μ§€ μ „μ†΅ |
| `/test/event` | POST | ν…μ¤νΈ μ΄λ²¤νΈ λ°ν–‰ |

### π¬ μ‹¤μ  μ‹λ‚λ¦¬μ¤ λ°λ¨

| μ—”λ“ν¬μΈνΈ | μ„¤λ… | μ†μ”μ‹κ°„ |
|------------|------|----------|
| `GET /demo/status` | λ°λ¨ μ •λ³΄ | μ¦‰μ‹ |
| `GET /demo/quick` | λΉ λ¥Έ κ±°λ λ°λ¨ | ~30μ΄ |
| `GET /demo/scheduler` | μ¤μΌ€μ¤„λ¬ λ°λ¨ | ~15μ΄ |
| `GET /demo/complete` | **μ™„μ „ν• κΈμµ μ‹λ‚λ¦¬μ¤** | ~2-3λ¶„ |

## π μ‹¤μ  λ™μ‘ ν™•μΈ λ°©λ²•

### 1οΈβƒ£ κΈ°λ³Έ μƒνƒ ν™•μΈ

```bash
# μ„λΉ„μ¤ μƒνƒ ν™•μΈ
curl http://localhost:8000/

# μƒμ„Έ ν—¬μ¤μ²΄ν¬
curl http://localhost:8000/health
```

### 2οΈβƒ£ λΉ λ¥Έ ν…μ¤νΈ μ‹¤ν–‰

```bash
# λ¨λ“  μ„λΉ„μ¤ λΉ λ¥Έ ν…μ¤νΈ
curl http://localhost:8000/test/quick

# κ°λ³„ μ„λΉ„μ¤ ν…μ¤νΈ
curl http://localhost:8000/test/cache
curl http://localhost:8000/test/lock
curl http://localhost:8000/test/queue
```

### 3οΈβƒ£ μ‹¤μ  μ‹λ‚λ¦¬μ¤ λ°λ¨

```bash
# λΉ λ¥Έ κΈμµ λ°λ¨
curl http://localhost:8000/demo/quick

# μ™„μ „ν• κΈμµ μ„λΉ„μ¤ μ‹λ‚λ¦¬μ¤
curl http://localhost:8000/demo/complete
```

### 4οΈβƒ£ μλ™ λ©”μ‹μ§€/μ΄λ²¤νΈ ν…μ¤νΈ

```bash
# ν…μ¤νΈ λ©”μ‹μ§€ μ „μ†΅
curl -X POST http://localhost:8000/test/message \
  -H "Content-Type: application/json" \
  -d '{"test_data": "my custom message"}'

# ν…μ¤νΈ μ΄λ²¤νΈ λ°ν–‰
curl -X POST http://localhost:8000/test/event \
  -H "Content-Type: application/json" \
  -d '{"action": "custom_test", "data": {"key": "value"}}'
```

## π“‹ ν…μ¤νΈ μ‹λ‚λ¦¬μ¤ μƒμ„Έ

### π”§ μΊμ‹ μ„λΉ„μ¤ ν…μ¤νΈ
- λ¬Έμμ—΄ μ €μ¥/μ΅°ν
- ν•΄μ‹ λ°μ΄ν„° μ €μ¥/μ΅°ν  
- λ¦¬μ¤νΈ μ—°μ‚°
- TTL λ§λ£ ν…μ¤νΈ

### π”’ λ¶„μ‚°λ½ ν…μ¤νΈ
- κΈ°λ³Έ λ½ νλ“/ν•΄μ 
- μ¤‘λ³µ λ½ νλ“ μ°¨λ‹¨
- μ»¨ν…μ¤νΈ λ§¤λ‹μ € ν…μ¤νΈ
- λ½ μƒνƒ ν™•μΈ

### β° μ¤μΌ€μ¤„λ¬ ν…μ¤νΈ
- μ¦‰μ‹ μ‹¤ν–‰ μ‘μ—…
- μΈν„°λ² μ‘μ—… (μ£ΌκΈ°μ  μ‹¤ν–‰)
- μ‘μ—… μƒνƒ μ΅°ν
- μ‘μ—… μ κ±° λ° μ¤‘μ§€

### π“¬ ν μ„λΉ„μ¤ ν…μ¤νΈ
- λ©”μ‹μ§€ μ „μ†΅/μ†λΉ„
- μ΄λ²¤νΈ λ°ν–‰/κµ¬λ…
- μ§€μ—° λ©”μ‹μ§€ μ²λ¦¬
- μ°μ„ μμ„ μ²λ¦¬
- νν‹°μ…λ³„ μμ„ λ³΄μ¥

### π’° κΈμµ μ„λΉ„μ¤ μ‹λ‚λ¦¬μ¤
1. **κ³„μ • μƒμ„±** - μ‚¬μ©μ λ“±λ΅ λ° ν™μ μ‘μ—…
2. **ν¬νΈν΄λ¦¬μ¤ κ΄€λ¦¬** - ν¬νΈν΄λ¦¬μ¤ μƒμ„± λ° λ¦¬λ°Έλ°μ‹± μ¤μΌ€μ¤„
3. **κ±°λ μ‹¤ν–‰** - μ£Όμ‹ λ§¤λ§¤ λ° ν›„μ† μ²λ¦¬
4. **μ‹μ¥ λ°μ΄ν„°** - μ‹¤μ‹κ°„ κ°€κ²© μ—…λ°μ΄νΈ λ° μ•λ¦Ό
5. **λ¦¬μ¤ν¬ λ¶„μ„** - VaR κ³„μ‚° λ° κ³ μ„ν— μ•λ¦Ό
6. **μ•λ¦Ό μ‹μ¤ν…** - μΌμΌ/μ›”κ°„ λ³΄κ³ μ„ μ¤μΌ€μ¤„

## π” λ΅κ·Έ ν™•μΈ

μ„λ²„ μ‹¤ν–‰ μ¤‘ μ½μ†”μ—μ„ λ‹¤μ λ΅κ·Έλ“¤μ„ ν™•μΈν•  μ μμµλ‹λ‹¤:

```
β… [CACHE] λ¬Έμμ—΄ μ €μ¥/μ΅°ν μ„±κ³µ
β… [LOCK] λ½ νλ“ μ„±κ³µ: abc12345...
β… [QUEUE] λ©”μ‹μ§€ μ „μ†΅ μ„±κ³µ: test_queue (test_message)
π“ μΌμΌ ν¬νΈν΄λ¦¬μ¤ μ”μ•½ μƒμ„± μ‹μ‘
π”„ ν¬νΈν΄λ¦¬μ¤ λ¦¬λ°Έλ°μ‹± μ‹¤ν–‰: κΉ€ν¬μμ μ„±μ¥ν• ν¬νΈν΄λ¦¬μ¤
```

## π¨ λ¬Έμ  ν•΄κ²°

### Redis μ—°κ²° μ‹¤ν¨
- Redis μ„λ²„κ°€ μ‹¤ν–‰ μ¤‘μΈμ§€ ν™•μΈ
- `redis-server` λ…λ ΉμΌλ΅ Redis μ‹μ‘

### λ°μ΄ν„°λ² μ΄μ¤ μ—°κ²° μ‹¤ν¨
- MySQL μ„λ²„ μƒνƒ ν™•μΈ
- μ„¤μ • νμΌ κ²½λ΅ ν™•μΈ: `base_web_server-config.json`

### μ„λΉ„μ¤ μ΄κΈ°ν™” μ‹¤ν¨
- λ΅κ·Έμ—μ„ κµ¬μ²΄μ μΈ μ¤λ¥ λ©”μ‹μ§€ ν™•μΈ
- `/debug/services` APIλ΅ μƒμ„Έ μƒνƒ ν™•μΈ

## π― μ„±κ³µ μ§€ν‘

### β… μ •μƒ λ™μ‘ ν™•μΈ
- λ¨λ“  μ„λΉ„μ¤ `initialized: true`
- λΉ λ¥Έ ν…μ¤νΈ 100% μ„±κ³µ
- λ°λ¨ μ‹λ‚λ¦¬μ¤ μ¤λ¥ μ—†μ΄ μ™„λ£
- ν ν†µκ³„μ—μ„ λ©”μ‹μ§€ μ²λ¦¬ ν™•μΈ

### π“ μ„±λ¥ μ§€ν‘
- λ©”μ‹μ§€ μ²λ¦¬ μ§€μ—°μ‹κ°„ < 100ms
- μ΄λ²¤νΈ λ°ν–‰/κµ¬λ… μ§€μ—°μ‹κ°„ < 50ms
- λ¶„μ‚°λ½ νλ“ μ‹κ°„ < 10ms
- μΊμ‹ μ‘λ‹µ μ‹κ°„ < 5ms

## π”„ μ§€μ†μ  λ¨λ‹ν„°λ§

```bash
# 1λ¶„λ§λ‹¤ μ„λΉ„μ¤ μƒνƒ ν™•μΈ
watch -n 60 'curl -s http://localhost:8000/health | jq .status'

# ν ν†µκ³„ μ‹¤μ‹κ°„ λ¨λ‹ν„°λ§
watch -n 30 'curl -s http://localhost:8000/queue/stats | jq .service_stats'
```

## π“ μ¶”κ°€ μ •λ³΄

- κ° μ„λΉ„μ¤λ” λ…λ¦½μ μΌλ΅ μ‹¤ν¨ν•΄λ„ λ‹¤λ¥Έ μ„λΉ„μ¤μ— μν–¥ μ—†μ
- λ¨λ“  ν…μ¤νΈλ” μ‹¤μ  Redis/DB μ—°κ²° μƒνƒμ— λ”°λΌ κ²°κ³Όκ°€ λ‹¬λΌμ§
- λ°λ¨ μ‹λ‚λ¦¬μ¤λ” μ‹¤μ  κΈμµ μ„λΉ„μ¤ μ›ν¬ν”λ΅μ°λ¥Ό μ‹λ®¬λ μ΄μ…
- μ¤μΌ€μ¤„λ¬ μ‘μ—…μ€ λ°±κ·ΈλΌμ΄λ“μ—μ„ μ§€μ†μ μΌλ΅ μ‹¤ν–‰λ¨

---

π‰ **μ΄μ  λ¨λ“  μ„λΉ„μ¤κ°€ μ‹¤μ λ΅ λ™μ‘ν•λ” κ²ƒμ„ ν™•μΈν•  μ μμµλ‹λ‹¤!**