---

# ğŸ“˜ íˆ¬ì ê´€ë¦¬ ì„œë¹„ìŠ¤ API ëª…ì„¸ì„œ (ìƒ˜í”Œ JSON, Enum, í´ë˜ìŠ¤ í†µí•©)

---

## ê³µí†µ ë² ì´ìŠ¤ í´ë˜ìŠ¤

```python
from pydantic import BaseModel
from enum import IntEnum, Enum
from typing import List, Optional

class BaseRequest(BaseModel):
    accessToken: str = ""
    sequence: int = 0

class BaseResponse(BaseModel):
    errorCode: int = 0
    sequence: int = 0
```

---

# 1. ì¸ì¦ ê´€ë¦¬

---

## 1.1 Enum

```python
class PlatformType(IntEnum):
    NORMAL = 1
    SOCIAL = 2
```

---

## 1.2 íšŒì›ê°€ì…

### í´ë˜ìŠ¤

```python
class AccountSignupRequest(BaseRequest):
    platform_type: int = PlatformType.NORMAL
    account_id: str
    password: str
    nickname: str
    email: str

class AccountSignupResponse(BaseResponse):
    account_db_key: int = 0
    message: str = ""
```

### ìƒ˜í”Œ JSON

**Request**

```json
{
  "accessToken": "",
  "sequence": 1,
  "platform_type": 1,
  "account_id": "investor01",
  "password": "S3cur3P@ss",
  "nickname": "íˆ¬ìì™•",
  "email": "investor01@example.com"
}
```

**Response**

```json
{
  "errorCode": 0,
  "sequence": 1,
  "account_db_key": 12345,
  "message": "íšŒì›ê°€ì… ì„±ê³µ"
}
```

---

## 1.3 ë¡œê·¸ì¸ (1ë‹¨ê³„)

### í´ë˜ìŠ¤

```python
class AccountLoginRequest(BaseRequest):
    platform_type: int = PlatformType.NORMAL
    account_id: str
    password: str

class AccountLoginResponse(BaseResponse):
    accessToken: str = ""
    account_db_key: int = 0
    nickname: str = ""
    account_level: int = 1
    shard_id: int = 0
```

### ìƒ˜í”Œ JSON

**Request**

```json
{
  "accessToken": "",
  "sequence": 2,
  "platform_type": 1,
  "account_id": "investor01",
  "password": "S3cur3P@ss"
}
```

**Response**

```json
{
  "errorCode": 0,
  "sequence": 2,
  "accessToken": "eyJhbGciOiJIUzI1NiIs...",
  "account_db_key": 12345,
  "nickname": "íˆ¬ìì™•",
  "account_level": 1,
  "shard_id": 2
}
```

---

## 1.4 ë¡œê·¸ì¸ (2ë‹¨ê³„ OTP)

### í´ë˜ìŠ¤

```python
class OtpVerifyRequest(BaseRequest):
    otp_code: str

class OtpVerifyResponse(BaseResponse):
    message: str = ""
```

### ìƒ˜í”Œ JSON

**Request**

```json
{
  "accessToken": "eyJhbGciOiJIUzI1NiIs...",
  "sequence": 3,
  "otp_code": "123456"
}
```

**Response**

```json
{
  "errorCode": 0,
  "sequence": 3,
  "message": "OTP ì¸ì¦ ì„±ê³µ"
}
```

---

## 1.5 OTP ë“±ë¡

### í´ë˜ìŠ¤

```python
class OtpRegisterRequest(BaseRequest):
    otp_secret: str
    otp_code: str

class OtpRegisterResponse(BaseResponse):
    message: str = ""
```

### ìƒ˜í”Œ JSON

**Request**

```json
{
  "accessToken": "eyJhbGciOiJIUzI1NiIs...",
  "sequence": 4,
  "otp_secret": "JBSWY3DPEHPK3PXP",
  "otp_code": "123456"
}
```

**Response**

```json
{
  "errorCode": 0,
  "sequence": 4,
  "message": "OTP ë“±ë¡ ì„±ê³µ"
}
```

---

# 2. ëŒ€ì‹œë³´ë“œ

---

## 2.1 í´ë˜ìŠ¤

```python
class DashboardInfoRequest(BaseRequest):
    pass

class DashboardInfoResponse(BaseResponse):
    cash_balance: float = 0.0
    holdings: List[dict] = []
    portfolio_value: float = 0.0
    performance_chart: List[dict] = []
    allocation_chart: List[dict] = []
    alerts: List[dict] = []
    watchlist: List[dict] = []
```

### ìƒ˜í”Œ JSON

**Request**

```json
{
  "accessToken": "eyJhbGciOiJIUzI1NiIs...",
  "sequence": 5
}
```

**Response**

```json
{
  "errorCode": 0,
  "sequence": 5,
  "cash_balance": 1500000.0,
  "holdings": [
    {"ticker": "005930", "quantity": 10, "current_price": 75000}
  ],
  "portfolio_value": 2250000.0,
  "performance_chart": [],
  "allocation_chart": [],
  "alerts": [],
  "watchlist": []
}
```

---

# 3. í¬íŠ¸í´ë¦¬ì˜¤

---

## 3.1 Enum

```python
class PortfolioAction(str, Enum):
    ADD = "add"
    REMOVE = "remove"
```

---

## 3.2 í¬íŠ¸í´ë¦¬ì˜¤ ì¡°íšŒ

### í´ë˜ìŠ¤

```python
class PortfolioInfoRequest(BaseRequest):
    pass

class PortfolioInfoResponse(BaseResponse):
    portfolio: List[dict] = []
    total_return: float = 0.0
    past_returns: List[dict] = []
```

### ìƒ˜í”Œ JSON

**Request**

```json
{
  "accessToken": "eyJhbGciOiJIUzI1NiIs...",
  "sequence": 6
}
```

**Response**

```json
{
  "errorCode": 0,
  "sequence": 6,
  "portfolio": [
    {"ticker": "005930", "quantity": 10, "avg_price": 70000}
  ],
  "total_return": 0.15,
  "past_returns": []
}
```

---

## 3.3 í¬íŠ¸í´ë¦¬ì˜¤ ìˆ˜ì •

### í´ë˜ìŠ¤

```python
class PortfolioModifyRequest(BaseRequest):
    action: PortfolioAction
    ticker: str
    quantity: int

class PortfolioModifyResponse(BaseResponse):
    message: str = ""
```

### ìƒ˜í”Œ JSON

**Request**

```json
{
  "accessToken": "eyJhbGciOiJIUzI1NiIs...",
  "sequence": 7,
  "action": "add",
  "ticker": "005930",
  "quantity": 5
}
```

**Response**

```json
{
  "errorCode": 0,
  "sequence": 7,
  "message": "ì¢…ëª© ì¶”ê°€ ì™„ë£Œ"
}
```

---

# 4. AI ì±—ë´‡

---

## 4.1 í´ë˜ìŠ¤

```python
class ChatMessageRequest(BaseRequest):
    chat_id: str
    message: str

class ChatMessageResponse(BaseResponse):
    response_message: str
    suggestions: List[str] = []
```

### ìƒ˜í”Œ JSON

**Request**

```json
{
  "accessToken": "eyJhbGciOiJIUzI1NiIs...",
  "sequence": 8,
  "chat_id": "chat-001",
  "message": "ì‚¼ì„±ì „ì ì „ë§ ì–´ë•Œ?"
}
```

**Response**

```json
{
  "errorCode": 0,
  "sequence": 8,
  "response_message": "ì‚¼ì„±ì „ìëŠ” ìµœê·¼ í˜¸ì¬ë¡œ ìƒìŠ¹ì„¸ì…ë‹ˆë‹¤.",
  "suggestions": ["LGì „ìë„ ì•Œë ¤ì¤˜", "ITì„¹í„° ì „ë§ì€?"]
}
```

---

## 4.2 ìš”ì•½

### í´ë˜ìŠ¤

```python
class ChatSummaryRequest(BaseRequest):
    chat_id: str

class ChatSummaryResponse(BaseResponse):
    summary_text: str
```

### ìƒ˜í”Œ JSON

**Request**

```json
{
  "accessToken": "eyJhbGciOiJIUzI1NiIs...",
  "sequence": 9,
  "chat_id": "chat-001"
}
```

**Response**

```json
{
  "errorCode": 0,
  "sequence": 9,
  "summary_text": "ì‚¼ì„±ì „ìì˜ ë‹¨ê¸°ì  ìƒìŠ¹ ìš”ì¸ê³¼ ë¦¬ìŠ¤í¬ë¥¼ ìš”ì•½í•˜ì˜€ìŠµë‹ˆë‹¤."
}
```

---

## 4.3 ìƒˆ ì±„íŒ… ìƒì„±

### í´ë˜ìŠ¤

```python
class ChatCreateRequest(BaseRequest):
    persona: str

class ChatCreateResponse(BaseResponse):
    chat_id: str
```

### ìƒ˜í”Œ JSON

**Request**

```json
{
  "accessToken": "eyJhbGciOiJIUzI1NiIs...",
  "sequence": 10,
  "persona": "ì›Œë Œ ë²„í•"
}
```

**Response**

```json
{
  "errorCode": 0,
  "sequence": 10,
  "chat_id": "chat-002"
}
```

---

# 5. ìë™ë§¤ë§¤

---

## 5.1 Enum

```python
class AutoTradeAction(str, Enum):
    START = "start"
    STOP = "stop"
```

---

## 5.2 ìë™ë§¤ë§¤ ì œì–´

### í´ë˜ìŠ¤

```python
class AutoTradeControlRequest(BaseRequest):
    action: AutoTradeAction
    strategy_id: str

class AutoTradeControlResponse(BaseResponse):
    message: str
```

### ìƒ˜í”Œ JSON

**Request**

```json
{
  "accessToken": "eyJhbGciOiJIUzI1NiIs...",
  "sequence": 11,
  "action": "start",
  "strategy_id": "strategy-abc"
}
```

**Response**

```json
{
  "errorCode": 0,
  "sequence": 11,
  "message": "ìë™ë§¤ë§¤ ì‹œì‘"
}
```

---

## 5.3 ìë™ë§¤ë§¤ ìƒíƒœ ì¡°íšŒ

### í´ë˜ìŠ¤

```python
class AutoTradeStatusRequest(BaseRequest):
    pass

class AutoTradeStatusResponse(BaseResponse):
    profit_rate: float = 0.0
    win_rate: float = 0.0
```

### ìƒ˜í”Œ JSON

**Request**

```json
{
  "accessToken": "eyJhbGciOiJIUzI1NiIs...",
  "sequence": 12
}
```

**Response**

```json
{
  "errorCode": 0,
  "sequence": 12,
  "profit_rate": 0.07,
  "win_rate": 0.53
}
```

---

# 6. ì„¤ì •

---

## 6.1 í”„ë¡œí•„ ì„¤ì •

### í´ë˜ìŠ¤

```python
class ProfileSettingUpdateRequest(BaseRequest):
    investment_experience: str
    risk_preference: str
    investment_goal: str
    monthly_budget: float

class ProfileSettingUpdateResponse(BaseResponse):
    message: str
```

### ìƒ˜í”Œ JSON

**Request**

```json
{
  "accessToken": "eyJhbGciOiJIUzI1NiIs...",
  "sequence": 13,
  "investment_experience": "ì¤‘ìƒ",
  "risk_preference": "ê³µê²©í˜•",
  "investment_goal": "ì€í‡´ìê¸ˆ",
  "monthly_budget": 300000
}
```

**Response**

```json
{
  "errorCode": 0,
  "sequence": 13,
  "message": "í”„ë¡œí•„ ì„¤ì • ì™„ë£Œ"
}
```

---

## 6.2 ì•Œë¦¼ ì„¤ì •

### í´ë˜ìŠ¤

```python
class NotificationSettingUpdateRequest(BaseRequest):
    price_alert: bool
    news_alert: bool
    portfolio_alert: bool
    trade_alert: bool

class NotificationSettingUpdateResponse(BaseResponse):
    message: str
```

### ìƒ˜í”Œ JSON

**Request**

```json
{
  "accessToken": "eyJhbGciOiJIUzI1NiIs...",
  "sequence": 14,
  "price_alert": true,
  "news_alert": false,
  "portfolio_alert": true,
  "trade_alert": true
}
```

**Response**

```json
{
  "errorCode": 0,
  "sequence": 14,
  "message": "ì•Œë¦¼ ì„¤ì • ì €ì¥ë¨"
}
```

---

## 6.3 ë³´ì•ˆ ì„¤ì •

### í´ë˜ìŠ¤

```python
class SecuritySettingUpdateRequest(BaseRequest):
    otp_enabled: bool
    session_timeout_minutes: int

class SecuritySettingUpdateResponse(BaseResponse):
    message: str
```

### ìƒ˜í”Œ JSON

**Request**

```json
{
  "accessToken": "eyJhbGciOiJIUzI1NiIs...",
  "sequence": 15,
  "otp_enabled": true,
  "session_timeout_minutes": 30
}
```

**Response**

```json
{
  "errorCode": 0,
  "sequence": 15,
  "message": "ë³´ì•ˆ ì„¤ì • ì €ì¥ë¨"
}
```

---

## 6.4 í™”ë©´ ì„¤ì •

### Enum

```python
class Language(str, Enum):
    KO = "ko"
    EN = "en"

class Currency(str, Enum):
    KRW = "KRW"
    USD = "USD"

class ChartStyle(str, Enum):
    CANDLE = "candlestick"
    BAR = "bar"
```

### í´ë˜ìŠ¤

```python
class DisplaySettingUpdateRequest(BaseRequest):
    language: Language
    currency: Currency
    chart_style: ChartStyle

class DisplaySettingUpdateResponse(BaseResponse):
    message: str
```

### ìƒ˜í”Œ JSON

**Request**

```json
{
  "accessToken": "eyJhbGciOiJIUzI1NiIs...",
  "sequence": 16,
  "language": "ko",
  "currency": "KRW",
  "chart_style": "candlestick"
}
```

**Response**

```json
{
  "errorCode": 0,
  "sequence": 16,
  "message": "í™”ë©´ ì„¤ì • ì €ì¥ë¨"
}
```

---

# 7. ê³µí†µ ì‘ë‹µì½”ë“œ í‘œ

| errorCode  | ì„¤ëª…          |
| ---------- | ----------- |
| 0          | ì„±ê³µ          |
| 1000       | ì„œë²„ ì˜¤ë¥˜       |
| 1001\~1099 | ë¡œê·¸ì¸ ê´€ë ¨ ì˜¤ë¥˜   |
| 2000\~2099 | ê³„ì¢Œ/í¬íŠ¸í´ë¦¬ì˜¤ ì˜¤ë¥˜ |
| 3000\~3099 | íšŒì›ê°€ì… ì˜¤ë¥˜     |
| 4000\~4099 | ì±—ë´‡ ì²˜ë¦¬ ì˜¤ë¥˜    |
| 5000\~5099 | ìë™ë§¤ë§¤ ì²˜ë¦¬ ì˜¤ë¥˜  |

---
